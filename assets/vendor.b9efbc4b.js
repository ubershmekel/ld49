function ve(M,I){return I.forEach(function(v){Object.keys(v).forEach(function(S){if(S!=="default"&&!(S in M)){var u=Object.getOwnPropertyDescriptor(v,S);Object.defineProperty(M,S,u.get?u:{enumerable:!0,get:function(){return v[S]}})}})}),Object.freeze(M)}var U=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},pe={exports:{}};/*!
 * matter-js 0.17.1 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(M,I){(function(S,u){M.exports=u()})(U,function(){return function(v){var S={};function u(r){if(S[r])return S[r].exports;var f=S[r]={i:r,l:!1,exports:{}};return v[r].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=v,u.c=S,u.d=function(r,f,o){u.o(r,f)||Object.defineProperty(r,f,{enumerable:!0,get:o})},u.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},u.t=function(r,f){if(f&1&&(r=u(r)),f&8||f&4&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(u.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),f&2&&typeof r!="string")for(var a in r)u.d(o,a,function(d){return r[d]}.bind(null,a));return o},u.n=function(r){var f=r&&r.__esModule?function(){return r.default}:function(){return r};return u.d(f,"a",f),f},u.o=function(r,f){return Object.prototype.hasOwnProperty.call(r,f)},u.p="",u(u.s=22)}([function(v,S){var u={};v.exports=u,function(){u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(f,o){var a,d;typeof o=="boolean"?(a=2,d=o):(a=1,d=!0);for(var c=a;c<arguments.length;c++){var e=arguments[c];if(e)for(var n in e)d&&e[n]&&e[n].constructor===Object&&(!f[n]||f[n].constructor===Object)?(f[n]=f[n]||{},u.extend(f[n],d,e[n])):f[n]=e[n]}return f},u.clone=function(f,o){return u.extend({},o,f)},u.keys=function(f){if(Object.keys)return Object.keys(f);var o=[];for(var a in f)o.push(a);return o},u.values=function(f){var o=[];if(Object.keys){for(var a=Object.keys(f),d=0;d<a.length;d++)o.push(f[a[d]]);return o}for(var c in f)o.push(f[c]);return o},u.get=function(f,o,a,d){o=o.split(".").slice(a,d);for(var c=0;c<o.length;c+=1)f=f[o[c]];return f},u.set=function(f,o,a,d,c){var e=o.split(".").slice(d,c);return u.get(f,o,0,-1)[e[e.length-1]]=a,a},u.shuffle=function(f){for(var o=f.length-1;o>0;o--){var a=Math.floor(u.random()*(o+1)),d=f[o];f[o]=f[a],f[a]=d}return f},u.choose=function(f){return f[Math.floor(u.random()*f.length)]},u.isElement=function(f){return typeof HTMLElement!="undefined"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},u.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},u.isFunction=function(f){return typeof f=="function"},u.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},u.isString=function(f){return toString.call(f)==="[object String]"},u.clamp=function(f,o,a){return f<o?o:f>a?a:f},u.sign=function(f){return f<0?-1:1},u.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(f,o){return f=typeof f!="undefined"?f:0,o=typeof o!="undefined"?o:1,f+r()*(o-f)};var r=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[f]||(u.warn(f),u._warnedOnce[f]=!0)},u.deprecated=function(f,o,a){f[o]=u.chain(function(){u.warnOnce("\u{1F505} deprecated \u{1F505}",a)},f[o])},u.nextId=function(){return u._nextId++},u.indexOf=function(f,o){if(f.indexOf)return f.indexOf(o);for(var a=0;a<f.length;a++)if(f[a]===o)return a;return-1},u.map=function(f,o){if(f.map)return f.map(o);for(var a=[],d=0;d<f.length;d+=1)a.push(o(f[d]));return a},u.topologicalSort=function(f){var o=[],a=[],d=[];for(var c in f)!a[c]&&!d[c]&&u._topologicalSort(c,a,d,f,o);return o},u._topologicalSort=function(f,o,a,d,c){var e=d[f]||[];a[f]=!0;for(var n=0;n<e.length;n+=1){var t=e[n];a[t]||o[t]||u._topologicalSort(t,o,a,d,c)}a[f]=!1,o[f]=!0,c.push(f)},u.chain=function(){for(var f=[],o=0;o<arguments.length;o+=1){var a=arguments[o];a._chained?f.push.apply(f,a._chained):f.push(a)}var d=function(){for(var c,e=new Array(arguments.length),n=0,t=arguments.length;n<t;n++)e[n]=arguments[n];for(n=0;n<f.length;n+=1){var i=f[n].apply(c,e);typeof i!="undefined"&&(c=i)}return c};return d._chained=f,d},u.chainPathBefore=function(f,o,a){return u.set(f,o,u.chain(a,u.get(f,o)))},u.chainPathAfter=function(f,o,a){return u.set(f,o,u.chain(u.get(f,o),a))},u.setDecomp=function(f){u._decomp=f},u.getDecomp=function(){var f=u._decomp;try{!f&&typeof window!="undefined"&&(f=window.decomp),!f&&typeof U!="undefined"&&(f=U.decomp)}catch(o){f=null}return f}}()},function(v,S){var u={};v.exports=u,function(){u.create=function(r){var f={min:{x:0,y:0},max:{x:0,y:0}};return r&&u.update(f,r),f},u.update=function(r,f,o){r.min.x=1/0,r.max.x=-1/0,r.min.y=1/0,r.max.y=-1/0;for(var a=0;a<f.length;a++){var d=f[a];d.x>r.max.x&&(r.max.x=d.x),d.x<r.min.x&&(r.min.x=d.x),d.y>r.max.y&&(r.max.y=d.y),d.y<r.min.y&&(r.min.y=d.y)}o&&(o.x>0?r.max.x+=o.x:r.min.x+=o.x,o.y>0?r.max.y+=o.y:r.min.y+=o.y)},u.contains=function(r,f){return f.x>=r.min.x&&f.x<=r.max.x&&f.y>=r.min.y&&f.y<=r.max.y},u.overlaps=function(r,f){return r.min.x<=f.max.x&&r.max.x>=f.min.x&&r.max.y>=f.min.y&&r.min.y<=f.max.y},u.translate=function(r,f){r.min.x+=f.x,r.max.x+=f.x,r.min.y+=f.y,r.max.y+=f.y},u.shift=function(r,f){var o=r.max.x-r.min.x,a=r.max.y-r.min.y;r.min.x=f.x,r.max.x=f.x+o,r.min.y=f.y,r.max.y=f.y+a}}()},function(v,S){var u={};v.exports=u,function(){u.create=function(r,f){return{x:r||0,y:f||0}},u.clone=function(r){return{x:r.x,y:r.y}},u.magnitude=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},u.magnitudeSquared=function(r){return r.x*r.x+r.y*r.y},u.rotate=function(r,f,o){var a=Math.cos(f),d=Math.sin(f);o||(o={});var c=r.x*a-r.y*d;return o.y=r.x*d+r.y*a,o.x=c,o},u.rotateAbout=function(r,f,o,a){var d=Math.cos(f),c=Math.sin(f);a||(a={});var e=o.x+((r.x-o.x)*d-(r.y-o.y)*c);return a.y=o.y+((r.x-o.x)*c+(r.y-o.y)*d),a.x=e,a},u.normalise=function(r){var f=u.magnitude(r);return f===0?{x:0,y:0}:{x:r.x/f,y:r.y/f}},u.dot=function(r,f){return r.x*f.x+r.y*f.y},u.cross=function(r,f){return r.x*f.y-r.y*f.x},u.cross3=function(r,f,o){return(f.x-r.x)*(o.y-r.y)-(f.y-r.y)*(o.x-r.x)},u.add=function(r,f,o){return o||(o={}),o.x=r.x+f.x,o.y=r.y+f.y,o},u.sub=function(r,f,o){return o||(o={}),o.x=r.x-f.x,o.y=r.y-f.y,o},u.mult=function(r,f){return{x:r.x*f,y:r.y*f}},u.div=function(r,f){return{x:r.x/f,y:r.y/f}},u.perp=function(r,f){return f=f===!0?-1:1,{x:f*-r.y,y:f*r.x}},u.neg=function(r){return{x:-r.x,y:-r.y}},u.angle=function(r,f){return Math.atan2(f.y-r.y,f.x-r.x)},u._temp=[u.create(),u.create(),u.create(),u.create(),u.create(),u.create()]}()},function(v,S,u){var r={};v.exports=r;var f=u(2),o=u(0);(function(){r.create=function(a,d){for(var c=[],e=0;e<a.length;e++){var n=a[e],t={x:n.x,y:n.y,index:e,body:d,isInternal:!1};c.push(t)}return c},r.fromPath=function(a,d){var c=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,e=[];return a.replace(c,function(n,t,i){e.push({x:parseFloat(t),y:parseFloat(i)})}),r.create(e,d)},r.centre=function(a){for(var d=r.area(a,!0),c={x:0,y:0},e,n,t,i=0;i<a.length;i++)t=(i+1)%a.length,e=f.cross(a[i],a[t]),n=f.mult(f.add(a[i],a[t]),e),c=f.add(c,n);return f.div(c,6*d)},r.mean=function(a){for(var d={x:0,y:0},c=0;c<a.length;c++)d.x+=a[c].x,d.y+=a[c].y;return f.div(d,a.length)},r.area=function(a,d){for(var c=0,e=a.length-1,n=0;n<a.length;n++)c+=(a[e].x-a[n].x)*(a[e].y+a[n].y),e=n;return d?c/2:Math.abs(c)/2},r.inertia=function(a,d){for(var c=0,e=0,n=a,t,i,s=0;s<n.length;s++)i=(s+1)%n.length,t=Math.abs(f.cross(n[i],n[s])),c+=t*(f.dot(n[i],n[i])+f.dot(n[i],n[s])+f.dot(n[s],n[s])),e+=t;return d/6*(c/e)},r.translate=function(a,d,c){var e;if(c)for(e=0;e<a.length;e++)a[e].x+=d.x*c,a[e].y+=d.y*c;else for(e=0;e<a.length;e++)a[e].x+=d.x,a[e].y+=d.y;return a},r.rotate=function(a,d,c){if(d!==0){for(var e=Math.cos(d),n=Math.sin(d),t=0;t<a.length;t++){var i=a[t],s=i.x-c.x,l=i.y-c.y;i.x=c.x+(s*e-l*n),i.y=c.y+(s*n+l*e)}return a}},r.contains=function(a,d){for(var c=0;c<a.length;c++){var e=a[c],n=a[(c+1)%a.length];if((d.x-e.x)*(n.y-e.y)+(d.y-e.y)*(e.x-n.x)>0)return!1}return!0},r.scale=function(a,d,c,e){if(d===1&&c===1)return a;e=e||r.centre(a);for(var n,t,i=0;i<a.length;i++)n=a[i],t=f.sub(n,e),a[i].x=e.x+t.x*d,a[i].y=e.y+t.y*c;return a},r.chamfer=function(a,d,c,e,n){typeof d=="number"?d=[d]:d=d||[8],c=typeof c!="undefined"?c:-1,e=e||2,n=n||14;for(var t=[],i=0;i<a.length;i++){var s=a[i-1>=0?i-1:a.length-1],l=a[i],p=a[(i+1)%a.length],y=d[i<d.length?i:d.length-1];if(y===0){t.push(l);continue}var _=f.normalise({x:l.y-s.y,y:s.x-l.x}),m=f.normalise({x:p.y-l.y,y:l.x-p.x}),h=Math.sqrt(2*Math.pow(y,2)),x=f.mult(o.clone(_),y),g=f.normalise(f.mult(f.add(_,m),.5)),A=f.sub(l,f.mult(g,h)),w=c;c===-1&&(w=Math.pow(y,.32)*1.75),w=o.clamp(w,e,n),w%2==1&&(w+=1);for(var P=Math.acos(f.dot(_,m)),T=P/w,C=0;C<w;C++)t.push(f.add(f.rotate(x,T*C),A))}return t},r.clockwiseSort=function(a){var d=r.mean(a);return a.sort(function(c,e){return f.angle(d,c)-f.angle(d,e)}),a},r.isConvex=function(a){var d=0,c=a.length,e,n,t,i;if(c<3)return null;for(e=0;e<c;e++)if(n=(e+1)%c,t=(e+2)%c,i=(a[n].x-a[e].x)*(a[t].y-a[n].y),i-=(a[n].y-a[e].y)*(a[t].x-a[n].x),i<0?d|=1:i>0&&(d|=2),d===3)return!1;return d!==0?!0:null},r.hull=function(a){var d=[],c=[],e,n;for(a=a.slice(0),a.sort(function(t,i){var s=t.x-i.x;return s!==0?s:t.y-i.y}),n=0;n<a.length;n+=1){for(e=a[n];c.length>=2&&f.cross3(c[c.length-2],c[c.length-1],e)<=0;)c.pop();c.push(e)}for(n=a.length-1;n>=0;n-=1){for(e=a[n];d.length>=2&&f.cross3(d[d.length-2],d[d.length-1],e)<=0;)d.pop();d.push(e)}return d.pop(),c.pop(),d.concat(c)}})()},function(v,S,u){var r={};v.exports=r;var f=u(0);(function(){r.on=function(o,a,d){for(var c=a.split(" "),e,n=0;n<c.length;n++)e=c[n],o.events=o.events||{},o.events[e]=o.events[e]||[],o.events[e].push(d);return d},r.off=function(o,a,d){if(!a){o.events={};return}typeof a=="function"&&(d=a,a=f.keys(o.events).join(" "));for(var c=a.split(" "),e=0;e<c.length;e++){var n=o.events[c[e]],t=[];if(d&&n)for(var i=0;i<n.length;i++)n[i]!==d&&t.push(n[i]);o.events[c[e]]=t}},r.trigger=function(o,a,d){var c,e,n,t,i=o.events;if(i&&f.keys(i).length>0){d||(d={}),c=a.split(" ");for(var s=0;s<c.length;s++)if(e=c[s],n=i[e],n){t=f.clone(d,!1),t.name=e,t.source=o;for(var l=0;l<n.length;l++)n[l].apply(o,[t])}}}})()},function(v,S,u){var r={};v.exports=r;var f=u(4),o=u(0),a=u(1),d=u(6);(function(){r.create=function(c){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},c)},r.setModified=function(c,e,n,t){if(c.isModified=e,n&&c.parent&&r.setModified(c.parent,e,n,t),t)for(var i=0;i<c.composites.length;i++){var s=c.composites[i];r.setModified(s,e,n,t)}},r.add=function(c,e){var n=[].concat(e);f.trigger(c,"beforeAdd",{object:e});for(var t=0;t<n.length;t++){var i=n[t];switch(i.type){case"body":if(i.parent!==i){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(c,i);break;case"constraint":r.addConstraint(c,i);break;case"composite":r.addComposite(c,i);break;case"mouseConstraint":r.addConstraint(c,i.constraint);break}}return f.trigger(c,"afterAdd",{object:e}),c},r.remove=function(c,e,n){var t=[].concat(e);f.trigger(c,"beforeRemove",{object:e});for(var i=0;i<t.length;i++){var s=t[i];switch(s.type){case"body":r.removeBody(c,s,n);break;case"constraint":r.removeConstraint(c,s,n);break;case"composite":r.removeComposite(c,s,n);break;case"mouseConstraint":r.removeConstraint(c,s.constraint);break}}return f.trigger(c,"afterRemove",{object:e}),c},r.addComposite=function(c,e){return c.composites.push(e),e.parent=c,r.setModified(c,!0,!0,!1),c},r.removeComposite=function(c,e,n){var t=o.indexOf(c.composites,e);if(t!==-1&&(r.removeCompositeAt(c,t),r.setModified(c,!0,!0,!1)),n)for(var i=0;i<c.composites.length;i++)r.removeComposite(c.composites[i],e,!0);return c},r.removeCompositeAt=function(c,e){return c.composites.splice(e,1),r.setModified(c,!0,!0,!1),c},r.addBody=function(c,e){return c.bodies.push(e),r.setModified(c,!0,!0,!1),c},r.removeBody=function(c,e,n){var t=o.indexOf(c.bodies,e);if(t!==-1&&(r.removeBodyAt(c,t),r.setModified(c,!0,!0,!1)),n)for(var i=0;i<c.composites.length;i++)r.removeBody(c.composites[i],e,!0);return c},r.removeBodyAt=function(c,e){return c.bodies.splice(e,1),r.setModified(c,!0,!0,!1),c},r.addConstraint=function(c,e){return c.constraints.push(e),r.setModified(c,!0,!0,!1),c},r.removeConstraint=function(c,e,n){var t=o.indexOf(c.constraints,e);if(t!==-1&&r.removeConstraintAt(c,t),n)for(var i=0;i<c.composites.length;i++)r.removeConstraint(c.composites[i],e,!0);return c},r.removeConstraintAt=function(c,e){return c.constraints.splice(e,1),r.setModified(c,!0,!0,!1),c},r.clear=function(c,e,n){if(n)for(var t=0;t<c.composites.length;t++)r.clear(c.composites[t],e,!0);return e?c.bodies=c.bodies.filter(function(i){return i.isStatic}):c.bodies.length=0,c.constraints.length=0,c.composites.length=0,r.setModified(c,!0,!0,!1),c},r.allBodies=function(c){for(var e=[].concat(c.bodies),n=0;n<c.composites.length;n++)e=e.concat(r.allBodies(c.composites[n]));return e},r.allConstraints=function(c){for(var e=[].concat(c.constraints),n=0;n<c.composites.length;n++)e=e.concat(r.allConstraints(c.composites[n]));return e},r.allComposites=function(c){for(var e=[].concat(c.composites),n=0;n<c.composites.length;n++)e=e.concat(r.allComposites(c.composites[n]));return e},r.get=function(c,e,n){var t,i;switch(n){case"body":t=r.allBodies(c);break;case"constraint":t=r.allConstraints(c);break;case"composite":t=r.allComposites(c).concat(c);break}return t?(i=t.filter(function(s){return s.id.toString()===e.toString()}),i.length===0?null:i[0]):null},r.move=function(c,e,n){return r.remove(c,e),r.add(n,e),c},r.rebase=function(c){for(var e=r.allBodies(c).concat(r.allConstraints(c)).concat(r.allComposites(c)),n=0;n<e.length;n++)e[n].id=o.nextId();return r.setModified(c,!0,!0,!1),c},r.translate=function(c,e,n){for(var t=n?r.allBodies(c):c.bodies,i=0;i<t.length;i++)d.translate(t[i],e);return r.setModified(c,!0,!0,!1),c},r.rotate=function(c,e,n,t){for(var i=Math.cos(e),s=Math.sin(e),l=t?r.allBodies(c):c.bodies,p=0;p<l.length;p++){var y=l[p],_=y.position.x-n.x,m=y.position.y-n.y;d.setPosition(y,{x:n.x+(_*i-m*s),y:n.y+(_*s+m*i)}),d.rotate(y,e)}return r.setModified(c,!0,!0,!1),c},r.scale=function(c,e,n,t,i){for(var s=i?r.allBodies(c):c.bodies,l=0;l<s.length;l++){var p=s[l],y=p.position.x-t.x,_=p.position.y-t.y;d.setPosition(p,{x:t.x+y*e,y:t.y+_*n}),d.scale(p,e,n)}return r.setModified(c,!0,!0,!1),c},r.bounds=function(c){for(var e=r.allBodies(c),n=[],t=0;t<e.length;t+=1){var i=e[t];n.push(i.bounds.min,i.bounds.max)}return a.create(n)}})()},function(v,S,u){var r={};v.exports=r;var f=u(3),o=u(2),a=u(7);u(16);var d=u(0),c=u(1),e=u(10);(function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(t){var i={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:f.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},s=d.extend(i,t);return n(s,t),s},r.nextGroup=function(t){return t?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var n=function(t,i){i=i||{},r.set(t,{bounds:t.bounds||c.create(t.vertices),positionPrev:t.positionPrev||o.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),f.rotate(t.vertices,t.angle,t.position),e.rotate(t.axes,t.angle),c.update(t.bounds,t.vertices,t.velocity),r.set(t,{axes:i.axes||t.axes,area:i.area||t.area,mass:i.mass||t.mass,inertia:i.inertia||t.inertia});var s=t.isStatic?"#14151f":d.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),l=t.isStatic?"#555":"#ccc",p=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||s,t.render.strokeStyle=t.render.strokeStyle||l,t.render.lineWidth=t.render.lineWidth||p,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};r.set=function(t,i,s){var l;typeof i=="string"&&(l=i,i={},i[l]=s);for(l in i)if(!!Object.prototype.hasOwnProperty.call(i,l))switch(s=i[l],l){case"isStatic":r.setStatic(t,s);break;case"isSleeping":a.set(t,s);break;case"mass":r.setMass(t,s);break;case"density":r.setDensity(t,s);break;case"inertia":r.setInertia(t,s);break;case"vertices":r.setVertices(t,s);break;case"position":r.setPosition(t,s);break;case"angle":r.setAngle(t,s);break;case"velocity":r.setVelocity(t,s);break;case"angularVelocity":r.setAngularVelocity(t,s);break;case"parts":r.setParts(t,s);break;case"centre":r.setCentre(t,s);break;default:t[l]=s}},r.setStatic=function(t,i){for(var s=0;s<t.parts.length;s++){var l=t.parts[s];l.isStatic=i,i?(l._original={restitution:l.restitution,friction:l.friction,mass:l.mass,inertia:l.inertia,density:l.density,inverseMass:l.inverseMass,inverseInertia:l.inverseInertia},l.restitution=0,l.friction=1,l.mass=l.inertia=l.density=1/0,l.inverseMass=l.inverseInertia=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.angularVelocity=0,l.speed=0,l.angularSpeed=0,l.motion=0):l._original&&(l.restitution=l._original.restitution,l.friction=l._original.friction,l.mass=l._original.mass,l.inertia=l._original.inertia,l.density=l._original.density,l.inverseMass=l._original.inverseMass,l.inverseInertia=l._original.inverseInertia,l._original=null)}},r.setMass=function(t,i){var s=t.inertia/(t.mass/6);t.inertia=s*(i/6),t.inverseInertia=1/t.inertia,t.mass=i,t.inverseMass=1/t.mass,t.density=t.mass/t.area},r.setDensity=function(t,i){r.setMass(t,i*t.area),t.density=i},r.setInertia=function(t,i){t.inertia=i,t.inverseInertia=1/t.inertia},r.setVertices=function(t,i){i[0].body===t?t.vertices=i:t.vertices=f.create(i,t),t.axes=e.fromVertices(t.vertices),t.area=f.area(t.vertices),r.setMass(t,t.density*t.area);var s=f.centre(t.vertices);f.translate(t.vertices,s,-1),r.setInertia(t,r._inertiaScale*f.inertia(t.vertices,t.mass)),f.translate(t.vertices,t.position),c.update(t.bounds,t.vertices,t.velocity)},r.setParts=function(t,i,s){var l;for(i=i.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,l=0;l<i.length;l++){var p=i[l];p!==t&&(p.parent=t,t.parts.push(p))}if(t.parts.length!==1){if(s=typeof s!="undefined"?s:!0,s){var y=[];for(l=0;l<i.length;l++)y=y.concat(i[l].vertices);f.clockwiseSort(y);var _=f.hull(y),m=f.centre(_);r.setVertices(t,_),f.translate(t.vertices,m)}var h=r._totalProperties(t);t.area=h.area,t.parent=t,t.position.x=h.centre.x,t.position.y=h.centre.y,t.positionPrev.x=h.centre.x,t.positionPrev.y=h.centre.y,r.setMass(t,h.mass),r.setInertia(t,h.inertia),r.setPosition(t,h.centre)}},r.setCentre=function(t,i,s){s?(t.positionPrev.x+=i.x,t.positionPrev.y+=i.y,t.position.x+=i.x,t.position.y+=i.y):(t.positionPrev.x=i.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=i.y-(t.position.y-t.positionPrev.y),t.position.x=i.x,t.position.y=i.y)},r.setPosition=function(t,i){var s=o.sub(i,t.position);t.positionPrev.x+=s.x,t.positionPrev.y+=s.y;for(var l=0;l<t.parts.length;l++){var p=t.parts[l];p.position.x+=s.x,p.position.y+=s.y,f.translate(p.vertices,s),c.update(p.bounds,p.vertices,t.velocity)}},r.setAngle=function(t,i){var s=i-t.angle;t.anglePrev+=s;for(var l=0;l<t.parts.length;l++){var p=t.parts[l];p.angle+=s,f.rotate(p.vertices,s,t.position),e.rotate(p.axes,s),c.update(p.bounds,p.vertices,t.velocity),l>0&&o.rotateAbout(p.position,s,t.position,p.position)}},r.setVelocity=function(t,i){t.positionPrev.x=t.position.x-i.x,t.positionPrev.y=t.position.y-i.y,t.velocity.x=i.x,t.velocity.y=i.y,t.speed=o.magnitude(t.velocity)},r.setAngularVelocity=function(t,i){t.anglePrev=t.angle-i,t.angularVelocity=i,t.angularSpeed=Math.abs(t.angularVelocity)},r.translate=function(t,i){r.setPosition(t,o.add(t.position,i))},r.rotate=function(t,i,s){if(!s)r.setAngle(t,t.angle+i);else{var l=Math.cos(i),p=Math.sin(i),y=t.position.x-s.x,_=t.position.y-s.y;r.setPosition(t,{x:s.x+(y*l-_*p),y:s.y+(y*p+_*l)}),r.setAngle(t,t.angle+i)}},r.scale=function(t,i,s,l){var p=0,y=0;l=l||t.position;for(var _=0;_<t.parts.length;_++){var m=t.parts[_];f.scale(m.vertices,i,s,l),m.axes=e.fromVertices(m.vertices),m.area=f.area(m.vertices),r.setMass(m,t.density*m.area),f.translate(m.vertices,{x:-m.position.x,y:-m.position.y}),r.setInertia(m,r._inertiaScale*f.inertia(m.vertices,m.mass)),f.translate(m.vertices,{x:m.position.x,y:m.position.y}),_>0&&(p+=m.area,y+=m.inertia),m.position.x=l.x+(m.position.x-l.x)*i,m.position.y=l.y+(m.position.y-l.y)*s,c.update(m.bounds,m.vertices,t.velocity)}t.parts.length>1&&(t.area=p,t.isStatic||(r.setMass(t,t.density*p),r.setInertia(t,y))),t.circleRadius&&(i===s?t.circleRadius*=i:t.circleRadius=null)},r.update=function(t,i,s,l){var p=Math.pow(i*s*t.timeScale,2),y=1-t.frictionAir*s*t.timeScale,_=t.position.x-t.positionPrev.x,m=t.position.y-t.positionPrev.y;t.velocity.x=_*y*l+t.force.x/t.mass*p,t.velocity.y=m*y*l+t.force.y/t.mass*p,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*y*l+t.torque/t.inertia*p,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=o.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var h=0;h<t.parts.length;h++){var x=t.parts[h];f.translate(x.vertices,t.velocity),h>0&&(x.position.x+=t.velocity.x,x.position.y+=t.velocity.y),t.angularVelocity!==0&&(f.rotate(x.vertices,t.angularVelocity,t.position),e.rotate(x.axes,t.angularVelocity),h>0&&o.rotateAbout(x.position,t.angularVelocity,t.position,x.position)),c.update(x.bounds,x.vertices,t.velocity)}},r.applyForce=function(t,i,s){t.force.x+=s.x,t.force.y+=s.y;var l={x:i.x-t.position.x,y:i.y-t.position.y};t.torque+=l.x*s.y-l.y*s.x},r._totalProperties=function(t){for(var i={mass:0,area:0,inertia:0,centre:{x:0,y:0}},s=t.parts.length===1?0:1;s<t.parts.length;s++){var l=t.parts[s],p=l.mass!==1/0?l.mass:1;i.mass+=p,i.area+=l.area,i.inertia+=l.inertia,i.centre=o.add(i.centre,o.mult(l.position,p))}return i.centre=o.div(i.centre,i.mass),i}})()},function(v,S,u){var r={};v.exports=r;var f=u(4);(function(){r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(o,a){for(var d=a*a*a,c=0;c<o.length;c++){var e=o[c],n=e.speed*e.speed+e.angularSpeed*e.angularSpeed;if(e.force.x!==0||e.force.y!==0){r.set(e,!1);continue}var t=Math.min(e.motion,n),i=Math.max(e.motion,n);e.motion=r._minBias*t+(1-r._minBias)*i,e.sleepThreshold>0&&e.motion<r._motionSleepThreshold*d?(e.sleepCounter+=1,e.sleepCounter>=e.sleepThreshold&&r.set(e,!0)):e.sleepCounter>0&&(e.sleepCounter-=1)}},r.afterCollisions=function(o,a){for(var d=a*a*a,c=0;c<o.length;c++){var e=o[c];if(!!e.isActive){var n=e.collision,t=n.bodyA.parent,i=n.bodyB.parent;if(!(t.isSleeping&&i.isSleeping||t.isStatic||i.isStatic)&&(t.isSleeping||i.isSleeping)){var s=t.isSleeping&&!t.isStatic?t:i,l=s===t?i:t;!s.isStatic&&l.motion>r._motionWakeThreshold*d&&r.set(s,!1)}}}},r.set=function(o,a){var d=o.isSleeping;a?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,d||f.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,d&&f.trigger(o,"sleepEnd"))}})()},function(v,S,u){var r={};v.exports=r;var f=u(3),o=u(2),a=u(7),d=u(1),c=u(10),e=u(0);(function(){r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(n){var t=n;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var i=t.bodyA?o.add(t.bodyA.position,t.pointA):t.pointA,s=t.bodyB?o.add(t.bodyB.position,t.pointB):t.pointB,l=o.magnitude(o.sub(i,s));t.length=typeof t.length!="undefined"?t.length:l,t.id=t.id||e.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var p={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(p.type="pin",p.anchors=!1):t.stiffness<.9&&(p.type="spring"),t.render=e.extend(p,t.render),t},r.preSolveAll=function(n){for(var t=0;t<n.length;t+=1){var i=n[t],s=i.constraintImpulse;i.isStatic||s.x===0&&s.y===0&&s.angle===0||(i.position.x+=s.x,i.position.y+=s.y,i.angle+=s.angle)}},r.solveAll=function(n,t){for(var i=0;i<n.length;i+=1){var s=n[i],l=!s.bodyA||s.bodyA&&s.bodyA.isStatic,p=!s.bodyB||s.bodyB&&s.bodyB.isStatic;(l||p)&&r.solve(n[i],t)}for(i=0;i<n.length;i+=1)s=n[i],l=!s.bodyA||s.bodyA&&s.bodyA.isStatic,p=!s.bodyB||s.bodyB&&s.bodyB.isStatic,!l&&!p&&r.solve(n[i],t)},r.solve=function(n,t){var i=n.bodyA,s=n.bodyB,l=n.pointA,p=n.pointB;if(!(!i&&!s)){i&&!i.isStatic&&(o.rotate(l,i.angle-n.angleA,l),n.angleA=i.angle),s&&!s.isStatic&&(o.rotate(p,s.angle-n.angleB,p),n.angleB=s.angle);var y=l,_=p;if(i&&(y=o.add(i.position,l)),s&&(_=o.add(s.position,p)),!(!y||!_)){var m=o.sub(y,_),h=o.magnitude(m);h<r._minLength&&(h=r._minLength);var x=(h-n.length)/h,g=n.stiffness<1?n.stiffness*t:n.stiffness,A=o.mult(m,x*g),w=(i?i.inverseMass:0)+(s?s.inverseMass:0),P=(i?i.inverseInertia:0)+(s?s.inverseInertia:0),T=w+P,C,B,k,E,L;if(n.damping){var F=o.create();k=o.div(m,h),L=o.sub(s&&o.sub(s.position,s.positionPrev)||F,i&&o.sub(i.position,i.positionPrev)||F),E=o.dot(k,L)}i&&!i.isStatic&&(B=i.inverseMass/w,i.constraintImpulse.x-=A.x*B,i.constraintImpulse.y-=A.y*B,i.position.x-=A.x*B,i.position.y-=A.y*B,n.damping&&(i.positionPrev.x-=n.damping*k.x*E*B,i.positionPrev.y-=n.damping*k.y*E*B),C=o.cross(l,A)/T*r._torqueDampen*i.inverseInertia*(1-n.angularStiffness),i.constraintImpulse.angle-=C,i.angle-=C),s&&!s.isStatic&&(B=s.inverseMass/w,s.constraintImpulse.x+=A.x*B,s.constraintImpulse.y+=A.y*B,s.position.x+=A.x*B,s.position.y+=A.y*B,n.damping&&(s.positionPrev.x+=n.damping*k.x*E*B,s.positionPrev.y+=n.damping*k.y*E*B),C=o.cross(p,A)/T*r._torqueDampen*s.inverseInertia*(1-n.angularStiffness),s.constraintImpulse.angle+=C,s.angle+=C)}}},r.postSolveAll=function(n){for(var t=0;t<n.length;t++){var i=n[t],s=i.constraintImpulse;if(!(i.isStatic||s.x===0&&s.y===0&&s.angle===0)){a.set(i,!1);for(var l=0;l<i.parts.length;l++){var p=i.parts[l];f.translate(p.vertices,s),l>0&&(p.position.x+=s.x,p.position.y+=s.y),s.angle!==0&&(f.rotate(p.vertices,s.angle,i.position),c.rotate(p.axes,s.angle),l>0&&o.rotateAbout(p.position,s.angle,i.position,p.position)),d.update(p.bounds,p.vertices,i.velocity)}s.angle*=r._warming,s.x*=r._warming,s.y*=r._warming}}},r.pointAWorld=function(n){return{x:(n.bodyA?n.bodyA.position.x:0)+n.pointA.x,y:(n.bodyA?n.bodyA.position.y:0)+n.pointA.y}},r.pointBWorld=function(n){return{x:(n.bodyB?n.bodyB.position.x:0)+n.pointB.x,y:(n.bodyB?n.bodyB.position.y:0)+n.pointB.y}}})()},function(v,S,u){var r={};v.exports=r;var f=u(17);(function(){r.create=function(o,a){var d=o.bodyA,c=o.bodyB,e=o.parentA,n=o.parentB,t={id:r.id(d,c),bodyA:d,bodyB:c,contacts:{},activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:d.isSensor||c.isSensor,timeCreated:a,timeUpdated:a,inverseMass:e.inverseMass+n.inverseMass,friction:Math.min(e.friction,n.friction),frictionStatic:Math.max(e.frictionStatic,n.frictionStatic),restitution:Math.max(e.restitution,n.restitution),slop:Math.max(e.slop,n.slop)};return r.update(t,o,a),t},r.update=function(o,a,d){var c=o.contacts,e=a.supports,n=o.activeContacts,t=a.parentA,i=a.parentB;if(o.collision=a,o.inverseMass=t.inverseMass+i.inverseMass,o.friction=Math.min(t.friction,i.friction),o.frictionStatic=Math.max(t.frictionStatic,i.frictionStatic),o.restitution=Math.max(t.restitution,i.restitution),o.slop=Math.max(t.slop,i.slop),n.length=0,a.collided){for(var s=0;s<e.length;s++){var l=e[s],p=f.id(l),y=c[p];y?n.push(y):n.push(c[p]=f.create(l))}o.separation=a.depth,r.setActive(o,!0,d)}else o.isActive===!0&&r.setActive(o,!1,d)},r.setActive=function(o,a,d){a?(o.isActive=!0,o.timeUpdated=d):(o.isActive=!1,o.activeContacts.length=0)},r.id=function(o,a){return o.id<a.id?"A"+o.id+"B"+a.id:"A"+a.id+"B"+o.id}})()},function(v,S,u){var r={};v.exports=r;var f=u(2),o=u(0);(function(){r.fromVertices=function(a){for(var d={},c=0;c<a.length;c++){var e=(c+1)%a.length,n=f.normalise({x:a[e].y-a[c].y,y:a[c].x-a[e].x}),t=n.y===0?1/0:n.x/n.y;t=t.toFixed(3).toString(),d[t]=n}return o.values(d)},r.rotate=function(a,d){if(d!==0)for(var c=Math.cos(d),e=Math.sin(d),n=0;n<a.length;n++){var t=a[n],i;i=t.x*c-t.y*e,t.y=t.x*e+t.y*c,t.x=i}}})()},function(v,S,u){var r={};v.exports=r;var f=u(3),o=u(0),a=u(6),d=u(1),c=u(2);(function(){r.rectangle=function(e,n,t,i,s){s=s||{};var l={label:"Rectangle Body",position:{x:e,y:n},vertices:f.fromPath("L 0 0 L "+t+" 0 L "+t+" "+i+" L 0 "+i)};if(s.chamfer){var p=s.chamfer;l.vertices=f.chamfer(l.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete s.chamfer}return a.create(o.extend({},l,s))},r.trapezoid=function(e,n,t,i,s,l){l=l||{},s*=.5;var p=(1-s*2)*t,y=t*s,_=y+p,m=_+y,h;s<.5?h="L 0 0 L "+y+" "+-i+" L "+_+" "+-i+" L "+m+" 0":h="L 0 0 L "+_+" "+-i+" L "+m+" 0";var x={label:"Trapezoid Body",position:{x:e,y:n},vertices:f.fromPath(h)};if(l.chamfer){var g=l.chamfer;x.vertices=f.chamfer(x.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return a.create(o.extend({},x,l))},r.circle=function(e,n,t,i,s){i=i||{};var l={label:"Circle Body",circleRadius:t};s=s||25;var p=Math.ceil(Math.max(10,Math.min(s,t)));return p%2==1&&(p+=1),r.polygon(e,n,p,t,o.extend({},l,i))},r.polygon=function(e,n,t,i,s){if(s=s||{},t<3)return r.circle(e,n,i,s);for(var l=2*Math.PI/t,p="",y=l*.5,_=0;_<t;_+=1){var m=y+_*l,h=Math.cos(m)*i,x=Math.sin(m)*i;p+="L "+h.toFixed(3)+" "+x.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:n},vertices:f.fromPath(p)};if(s.chamfer){var A=s.chamfer;g.vertices=f.chamfer(g.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete s.chamfer}return a.create(o.extend({},g,s))},r.fromVertices=function(e,n,t,i,s,l,p,y){var _=o.getDecomp(),m,h,x,g,A,w,P,T,C,B,k;for(m=Boolean(_&&_.quickDecomp),i=i||{},x=[],s=typeof s!="undefined"?s:!1,l=typeof l!="undefined"?l:.01,p=typeof p!="undefined"?p:10,y=typeof y!="undefined"?y:.01,o.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(w=t[B],g=f.isConvex(w),A=!g,A&&!m&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!m)g?w=f.clockwiseSort(w):w=f.hull(w),x.push({position:{x:e,y:n},vertices:w});else{var E=w.map(function(G){return[G.x,G.y]});_.makeCCW(E),l!==!1&&_.removeCollinearPoints(E,l),y!==!1&&_.removeDuplicatePoints&&_.removeDuplicatePoints(E,y);var L=_.quickDecomp(E);for(P=0;P<L.length;P++){var F=L[P],D=F.map(function(G){return{x:G[0],y:G[1]}});p>0&&f.area(D)<p||x.push({position:f.centre(D),vertices:D})}}for(P=0;P<x.length;P++)x[P]=a.create(o.extend(x[P],i));if(s){var b=5;for(P=0;P<x.length;P++){var H=x[P];for(T=P+1;T<x.length;T++){var R=x[T];if(d.overlaps(H.bounds,R.bounds)){var W=H.vertices,V=R.vertices;for(C=0;C<H.vertices.length;C++)for(k=0;k<R.vertices.length;k++){var X=c.magnitudeSquared(c.sub(W[(C+1)%W.length],V[k])),Q=c.magnitudeSquared(c.sub(W[C],V[(k+1)%V.length]));X<b&&Q<b&&(W[C].isInternal=!0,V[k].isInternal=!0)}}}}}return x.length>1?(h=a.create(o.extend({parts:x.slice(0)},i)),a.setPosition(h,{x:e,y:n}),h):x[0]}})()},function(v,S,u){var r={};v.exports=r;var f=u(0);(function(){r.create=function(o){var a={};return o||f.log("Mouse.create: element was undefined, defaulting to document.body","warn"),a.element=o||document.body,a.absolute={x:0,y:0},a.position={x:0,y:0},a.mousedownPosition={x:0,y:0},a.mouseupPosition={x:0,y:0},a.offset={x:0,y:0},a.scale={x:1,y:1},a.wheelDelta=0,a.button=-1,a.pixelRatio=parseInt(a.element.getAttribute("data-pixel-ratio"),10)||1,a.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},a.mousemove=function(d){var c=r._getRelativeMousePosition(d,a.element,a.pixelRatio),e=d.changedTouches;e&&(a.button=0,d.preventDefault()),a.absolute.x=c.x,a.absolute.y=c.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y,a.sourceEvents.mousemove=d},a.mousedown=function(d){var c=r._getRelativeMousePosition(d,a.element,a.pixelRatio),e=d.changedTouches;e?(a.button=0,d.preventDefault()):a.button=d.button,a.absolute.x=c.x,a.absolute.y=c.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y,a.mousedownPosition.x=a.position.x,a.mousedownPosition.y=a.position.y,a.sourceEvents.mousedown=d},a.mouseup=function(d){var c=r._getRelativeMousePosition(d,a.element,a.pixelRatio),e=d.changedTouches;e&&d.preventDefault(),a.button=-1,a.absolute.x=c.x,a.absolute.y=c.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y,a.mouseupPosition.x=a.position.x,a.mouseupPosition.y=a.position.y,a.sourceEvents.mouseup=d},a.mousewheel=function(d){a.wheelDelta=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail)),d.preventDefault()},r.setElement(a,a.element),a},r.setElement=function(o,a){o.element=a,a.addEventListener("mousemove",o.mousemove),a.addEventListener("mousedown",o.mousedown),a.addEventListener("mouseup",o.mouseup),a.addEventListener("mousewheel",o.mousewheel),a.addEventListener("DOMMouseScroll",o.mousewheel),a.addEventListener("touchmove",o.mousemove),a.addEventListener("touchstart",o.mousedown),a.addEventListener("touchend",o.mouseup)},r.clearSourceEvents=function(o){o.sourceEvents.mousemove=null,o.sourceEvents.mousedown=null,o.sourceEvents.mouseup=null,o.sourceEvents.mousewheel=null,o.wheelDelta=0},r.setOffset=function(o,a){o.offset.x=a.x,o.offset.y=a.y,o.position.x=o.absolute.x*o.scale.x+o.offset.x,o.position.y=o.absolute.y*o.scale.y+o.offset.y},r.setScale=function(o,a){o.scale.x=a.x,o.scale.y=a.y,o.position.x=o.absolute.x*o.scale.x+o.offset.x,o.position.y=o.absolute.y*o.scale.y+o.offset.y},r._getRelativeMousePosition=function(o,a,d){var c=a.getBoundingClientRect(),e=document.documentElement||document.body.parentNode||document.body,n=window.pageXOffset!==void 0?window.pageXOffset:e.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:e.scrollTop,i=o.changedTouches,s,l;return i?(s=i[0].pageX-c.left-n,l=i[0].pageY-c.top-t):(s=o.pageX-c.left-n,l=o.pageY-c.top-t),{x:s/(a.clientWidth/(a.width||a.clientWidth)*d),y:l/(a.clientHeight/(a.height||a.clientHeight)*d)}}})()},function(v,S,u){var r={};v.exports=r;var f=u(14),o=u(9),a=u(1);(function(){r.collisions=function(d,c){for(var e=[],n=c.pairs.table,t=0;t<d.length;t++){var i=d[t][0],s=d[t][1];if(!((i.isStatic||i.isSleeping)&&(s.isStatic||s.isSleeping))&&!!r.canCollide(i.collisionFilter,s.collisionFilter)&&a.overlaps(i.bounds,s.bounds))for(var l=i.parts.length>1?1:0;l<i.parts.length;l++)for(var p=i.parts[l],y=s.parts.length>1?1:0;y<s.parts.length;y++){var _=s.parts[y];if(p===i&&_===s||a.overlaps(p.bounds,_.bounds)){var m=o.id(p,_),h=n[m],x;h&&h.isActive?x=h.collision:x=null;var g=f.collides(p,_,x);g.collided&&e.push(g)}}}return e},r.canCollide=function(d,c){return d.group===c.group&&d.group!==0?d.group>0:(d.mask&c.category)!=0&&(c.mask&d.category)!=0}})()},function(v,S,u){var r={};v.exports=r;var f=u(3),o=u(2);(function(){r.collides=function(a,d,c){var e,n,t,i,s=!1;if(c){var l=a.parent,p=d.parent,y=l.speed*l.speed+l.angularSpeed*l.angularSpeed+p.speed*p.speed+p.angularSpeed*p.angularSpeed;s=c&&c.collided&&y<.2,i=c}else i={collided:!1,bodyA:a,bodyB:d};if(c&&s){var _=i.axisBody,m=_===a?d:a,h=[_.axes[c.axisNumber]];if(t=r._overlapAxes(_.vertices,m.vertices,h),i.reused=!0,t.overlap<=0)return i.collided=!1,i}else{if(e=r._overlapAxes(a.vertices,d.vertices,a.axes),e.overlap<=0||(n=r._overlapAxes(d.vertices,a.vertices,d.axes),n.overlap<=0))return i.collided=!1,i;e.overlap<n.overlap?(t=e,i.axisBody=a):(t=n,i.axisBody=d),i.axisNumber=t.axisNumber}i.bodyA=a.id<d.id?a:d,i.bodyB=a.id<d.id?d:a,i.collided=!0,i.depth=t.overlap,i.parentA=i.bodyA.parent,i.parentB=i.bodyB.parent,a=i.bodyA,d=i.bodyB,o.dot(t.axis,o.sub(d.position,a.position))<0?i.normal={x:t.axis.x,y:t.axis.y}:i.normal={x:-t.axis.x,y:-t.axis.y},i.tangent=o.perp(i.normal),i.penetration=i.penetration||{},i.penetration.x=i.normal.x*i.depth,i.penetration.y=i.normal.y*i.depth;var x=r._findSupports(a,d,i.normal),g=[];if(f.contains(a.vertices,x[0])&&g.push(x[0]),f.contains(a.vertices,x[1])&&g.push(x[1]),g.length<2){var A=r._findSupports(d,a,o.neg(i.normal));f.contains(d.vertices,A[0])&&g.push(A[0]),g.length<2&&f.contains(d.vertices,A[1])&&g.push(A[1])}return g.length<1&&(g=[x[0]]),i.supports=g,i},r._overlapAxes=function(a,d,c){for(var e=o._temp[0],n=o._temp[1],t={overlap:Number.MAX_VALUE},i,s,l=0;l<c.length;l++){if(s=c[l],r._projectToAxis(e,a,s),r._projectToAxis(n,d,s),i=Math.min(e.max-n.min,n.max-e.min),i<=0)return t.overlap=i,t;i<t.overlap&&(t.overlap=i,t.axis=s,t.axisNumber=l)}return t},r._projectToAxis=function(a,d,c){for(var e=o.dot(d[0],c),n=e,t=1;t<d.length;t+=1){var i=o.dot(d[t],c);i>n?n=i:i<e&&(e=i)}a.min=e,a.max=n},r._findSupports=function(a,d,c){for(var e=Number.MAX_VALUE,n=o._temp[0],t=d.vertices,i=a.position,s,l,p,y,_=0;_<t.length;_++)l=t[_],n.x=l.x-i.x,n.y=l.y-i.y,s=-o.dot(c,n),s<e&&(e=s,p=l);var m=p.index-1>=0?p.index-1:t.length-1;l=t[m],n.x=l.x-i.x,n.y=l.y-i.y,e=-o.dot(c,n),y=l;var h=(p.index+1)%t.length;return l=t[h],n.x=l.x-i.x,n.y=l.y-i.y,s=-o.dot(c,n),s<e&&(y=l),[p,y]}})()},function(v,S,u){var r={};v.exports=r;var f=u(0);(function(){r._registry={},r.register=function(o){if(r.isPlugin(o)||f.warn("Plugin.register:",r.toString(o),"does not implement all required fields."),o.name in r._registry){var a=r._registry[o.name],d=r.versionParse(o.version).number,c=r.versionParse(a.version).number;d>c?(f.warn("Plugin.register:",r.toString(a),"was upgraded to",r.toString(o)),r._registry[o.name]=o):d<c?f.warn("Plugin.register:",r.toString(a),"can not be downgraded to",r.toString(o)):o!==a&&f.warn("Plugin.register:",r.toString(o),"is already registered to different plugin object")}else r._registry[o.name]=o;return o},r.resolve=function(o){return r._registry[r.dependencyParse(o).name]},r.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},r.isPlugin=function(o){return o&&o.name&&o.version&&o.install},r.isUsed=function(o,a){return o.used.indexOf(a)>-1},r.isFor=function(o,a){var d=o.for&&r.dependencyParse(o.for);return!o.for||a.name===d.name&&r.versionSatisfies(a.version,d.range)},r.use=function(o,a){if(o.uses=(o.uses||[]).concat(a||[]),o.uses.length===0){f.warn("Plugin.use:",r.toString(o),"does not specify any dependencies to install.");return}for(var d=r.dependencies(o),c=f.topologicalSort(d),e=[],n=0;n<c.length;n+=1)if(c[n]!==o.name){var t=r.resolve(c[n]);if(!t){e.push("\u274C "+c[n]);continue}r.isUsed(o,t.name)||(r.isFor(t,o)||(f.warn("Plugin.use:",r.toString(t),"is for",t.for,"but installed on",r.toString(o)+"."),t._warned=!0),t.install?t.install(o):(f.warn("Plugin.use:",r.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(e.push("\u{1F536} "+r.toString(t)),delete t._warned):e.push("\u2705 "+r.toString(t)),o.used.push(t.name))}e.length>0&&f.info(e.join("  "))},r.dependencies=function(o,a){var d=r.dependencyParse(o),c=d.name;if(a=a||{},!(c in a)){o=r.resolve(o)||o,a[c]=f.map(o.uses||[],function(n){r.isPlugin(n)&&r.register(n);var t=r.dependencyParse(n),i=r.resolve(n);return i&&!r.versionSatisfies(i.version,t.range)?(f.warn("Plugin.dependencies:",r.toString(i),"does not satisfy",r.toString(t),"used by",r.toString(d)+"."),i._warned=!0,o._warned=!0):i||(f.warn("Plugin.dependencies:",r.toString(n),"used by",r.toString(d),"could not be resolved."),o._warned=!0),t.name});for(var e=0;e<a[c].length;e+=1)r.dependencies(a[c][e],a);return a}},r.dependencyParse=function(o){if(f.isString(o)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return a.test(o)||f.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},r.versionParse=function(o){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-]+)?$/;a.test(o)||f.warn("Plugin.versionParse:",o,"is not a valid version or range.");var d=a.exec(o),c=Number(d[4]),e=Number(d[5]),n=Number(d[6]);return{isRange:Boolean(d[1]||d[2]),version:d[3],range:o,operator:d[1]||d[2]||"",major:c,minor:e,patch:n,parts:[c,e,n],prerelease:d[7],number:c*1e8+e*1e4+n}},r.versionSatisfies=function(o,a){a=a||"*";var d=r.versionParse(a),c=r.versionParse(o);if(d.isRange){if(d.operator==="*"||o==="*")return!0;if(d.operator===">")return c.number>d.number;if(d.operator===">=")return c.number>=d.number;if(d.operator==="~")return c.major===d.major&&c.minor===d.minor&&c.patch>=d.patch;if(d.operator==="^")return d.major>0?c.major===d.major&&c.number>=d.number:d.minor>0?c.minor===d.minor&&c.patch>=d.patch:c.patch===d.patch}return o===a||o==="*"}})()},function(v,S,u){var r={};v.exports=r;var f=u(0),o=u(5),a=u(1),d=u(4),c=u(2),e=u(12);(function(){var n,t;typeof window!="undefined"&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(m){window.setTimeout(function(){m(f.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(m){var h={controller:r,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!m.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},x=f.extend(h,m);return x.canvas&&(x.canvas.width=x.options.width||x.canvas.width,x.canvas.height=x.options.height||x.canvas.height),x.mouse=m.mouse,x.engine=m.engine,x.canvas=x.canvas||l(x.options.width,x.options.height),x.context=x.canvas.getContext("2d"),x.textures={},x.bounds=x.bounds||{min:{x:0,y:0},max:{x:x.canvas.width,y:x.canvas.height}},x.options.pixelRatio!==1&&r.setPixelRatio(x,x.options.pixelRatio),f.isElement(x.element)?x.element.appendChild(x.canvas):x.canvas.parentNode||f.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),x},r.run=function(m){(function h(x){m.frameRequestId=n(h),i(m,x),r.world(m,x),(m.options.showStats||m.options.showDebug)&&r.stats(m,m.context,x),(m.options.showPerformance||m.options.showDebug)&&r.performance(m,m.context,x)})()},r.stop=function(m){t(m.frameRequestId)},r.setPixelRatio=function(m,h){var x=m.options,g=m.canvas;h==="auto"&&(h=p(g)),x.pixelRatio=h,g.setAttribute("data-pixel-ratio",h),g.width=x.width*h,g.height=x.height*h,g.style.width=x.width+"px",g.style.height=x.height+"px"},r.lookAt=function(m,h,x,g){g=typeof g!="undefined"?g:!0,h=f.isArray(h)?h:[h],x=x||{x:0,y:0};for(var A={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},w=0;w<h.length;w+=1){var P=h[w],T=P.bounds?P.bounds.min:P.min||P.position||P,C=P.bounds?P.bounds.max:P.max||P.position||P;T&&C&&(T.x<A.min.x&&(A.min.x=T.x),C.x>A.max.x&&(A.max.x=C.x),T.y<A.min.y&&(A.min.y=T.y),C.y>A.max.y&&(A.max.y=C.y))}var B=A.max.x-A.min.x+2*x.x,k=A.max.y-A.min.y+2*x.y,E=m.canvas.height,L=m.canvas.width,F=L/E,D=B/k,b=1,H=1;D>F?H=D/F:b=F/D,m.options.hasBounds=!0,m.bounds.min.x=A.min.x,m.bounds.max.x=A.min.x+B*b,m.bounds.min.y=A.min.y,m.bounds.max.y=A.min.y+k*H,g&&(m.bounds.min.x+=B*.5-B*b*.5,m.bounds.max.x+=B*.5-B*b*.5,m.bounds.min.y+=k*.5-k*H*.5,m.bounds.max.y+=k*.5-k*H*.5),m.bounds.min.x-=x.x,m.bounds.max.x-=x.x,m.bounds.min.y-=x.y,m.bounds.max.y-=x.y,m.mouse&&(e.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.canvas.width,y:(m.bounds.max.y-m.bounds.min.y)/m.canvas.height}),e.setOffset(m.mouse,m.bounds.min))},r.startViewTransform=function(m){var h=m.bounds.max.x-m.bounds.min.x,x=m.bounds.max.y-m.bounds.min.y,g=h/m.options.width,A=x/m.options.height;m.context.setTransform(m.options.pixelRatio/g,0,0,m.options.pixelRatio/A,0,0),m.context.translate(-m.bounds.min.x,-m.bounds.min.y)},r.endViewTransform=function(m){m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0)},r.world=function(m,h){var x=f.now(),g=m.engine,A=g.world,w=m.canvas,P=m.context,T=m.options,C=m.timing,B=o.allBodies(A),k=o.allConstraints(A),E=T.wireframes?T.wireframeBackground:T.background,L=[],F=[],D,b={timestamp:g.timing.timestamp};if(d.trigger(m,"beforeRender",b),m.currentBackground!==E&&_(m,E),P.globalCompositeOperation="source-in",P.fillStyle="transparent",P.fillRect(0,0,w.width,w.height),P.globalCompositeOperation="source-over",T.hasBounds){for(D=0;D<B.length;D++){var H=B[D];a.overlaps(H.bounds,m.bounds)&&L.push(H)}for(D=0;D<k.length;D++){var R=k[D],W=R.bodyA,V=R.bodyB,X=R.pointA,Q=R.pointB;W&&(X=c.add(W.position,R.pointA)),V&&(Q=c.add(V.position,R.pointB)),!(!X||!Q)&&(a.contains(m.bounds,X)||a.contains(m.bounds,Q))&&F.push(R)}r.startViewTransform(m),m.mouse&&(e.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.options.width,y:(m.bounds.max.y-m.bounds.min.y)/m.options.height}),e.setOffset(m.mouse,m.bounds.min))}else F=k,L=B,m.options.pixelRatio!==1&&m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0);!T.wireframes||g.enableSleeping&&T.showSleeping?r.bodies(m,L,P):(T.showConvexHulls&&r.bodyConvexHulls(m,L,P),r.bodyWireframes(m,L,P)),T.showBounds&&r.bodyBounds(m,L,P),(T.showAxes||T.showAngleIndicator)&&r.bodyAxes(m,L,P),T.showPositions&&r.bodyPositions(m,L,P),T.showVelocity&&r.bodyVelocity(m,L,P),T.showIds&&r.bodyIds(m,L,P),T.showSeparations&&r.separations(m,g.pairs.list,P),T.showCollisions&&r.collisions(m,g.pairs.list,P),T.showVertexNumbers&&r.vertexNumbers(m,L,P),T.showMousePosition&&r.mousePosition(m,m.mouse,P),r.constraints(F,P),T.showBroadphase&&r.grid(m,g.grid,P),T.hasBounds&&r.endViewTransform(m),d.trigger(m,"afterRender",b),C.lastElapsed=f.now()-x},r.stats=function(m,h,x){for(var g=m.engine,A=g.world,w=o.allBodies(A),P=0,T=55,C=44,B=0,k=0,E=0;E<w.length;E+=1)P+=w[E].parts.length;var L={Part:P,Body:w.length,Cons:o.allConstraints(A).length,Comp:o.allComposites(A).length,Pair:g.pairs.list.length};h.fillStyle="#0e0f19",h.fillRect(B,k,T*5.5,C),h.font="12px Arial",h.textBaseline="top",h.textAlign="right";for(var F in L){var D=L[F];h.fillStyle="#aaa",h.fillText(F,B+T,k+8),h.fillStyle="#eee",h.fillText(D,B+T,k+26),B+=T}},r.performance=function(m,h){var x=m.engine,g=m.timing,A=g.deltaHistory,w=g.elapsedHistory,P=g.timestampElapsedHistory,T=g.engineDeltaHistory,C=g.engineElapsedHistory,B=x.timing.lastDelta,k=s(A),E=s(w),L=s(T),F=s(C),D=s(P),b=D/k||0,H=1e3/k||0,R=4,W=12,V=60,X=34,Q=10,G=69;h.fillStyle="#0e0f19",h.fillRect(0,50,W*4+V*5+22,X),r.status(h,Q,G,V,R,A.length,Math.round(H)+" fps",H/r._goodFps,function(N){return A[N]/k-1}),r.status(h,Q+W+V,G,V,R,T.length,B.toFixed(2)+" dt",r._goodDelta/B,function(N){return T[N]/L-1}),r.status(h,Q+(W+V)*2,G,V,R,C.length,F.toFixed(2)+" ut",1-F/r._goodFps,function(N){return C[N]/F-1}),r.status(h,Q+(W+V)*3,G,V,R,w.length,E.toFixed(2)+" rt",1-E/r._goodFps,function(N){return w[N]/E-1}),r.status(h,Q+(W+V)*4,G,V,R,P.length,b.toFixed(2)+" x",b*b*b,function(N){return(P[N]/A[N]/b||0)-1})},r.status=function(m,h,x,g,A,w,P,T,C){m.strokeStyle="#888",m.fillStyle="#444",m.lineWidth=1,m.fillRect(h,x+7,g,1),m.beginPath(),m.moveTo(h,x+7-A*f.clamp(.4*C(0),-2,2));for(var B=0;B<g;B+=1)m.lineTo(h+B,x+7-(B<w?A*f.clamp(.4*C(B),-2,2):0));m.stroke(),m.fillStyle="hsl("+f.clamp(25+95*T,0,120)+",100%,60%)",m.fillRect(h,x-7,4,4),m.font="12px Arial",m.textBaseline="middle",m.textAlign="right",m.fillStyle="#eee",m.fillText(P,h+g,x-5)},r.constraints=function(m,h){for(var x=h,g=0;g<m.length;g++){var A=m[g];if(!(!A.render.visible||!A.pointA||!A.pointB)){var w=A.bodyA,P=A.bodyB,T,C;if(w?T=c.add(w.position,A.pointA):T=A.pointA,A.render.type==="pin")x.beginPath(),x.arc(T.x,T.y,3,0,2*Math.PI),x.closePath();else{if(P?C=c.add(P.position,A.pointB):C=A.pointB,x.beginPath(),x.moveTo(T.x,T.y),A.render.type==="spring")for(var B=c.sub(C,T),k=c.perp(c.normalise(B)),E=Math.ceil(f.clamp(A.length/5,12,20)),L,F=1;F<E;F+=1)L=F%2==0?1:-1,x.lineTo(T.x+B.x*(F/E)+k.x*L*4,T.y+B.y*(F/E)+k.y*L*4);x.lineTo(C.x,C.y)}A.render.lineWidth&&(x.lineWidth=A.render.lineWidth,x.strokeStyle=A.render.strokeStyle,x.stroke()),A.render.anchors&&(x.fillStyle=A.render.strokeStyle,x.beginPath(),x.arc(T.x,T.y,3,0,2*Math.PI),x.arc(C.x,C.y,3,0,2*Math.PI),x.closePath(),x.fill())}}},r.bodies=function(m,h,x){var g=x;m.engine;var A=m.options,w=A.showInternalEdges||!A.wireframes,P,T,C,B;for(C=0;C<h.length;C++)if(P=h[C],!!P.render.visible){for(B=P.parts.length>1?1:0;B<P.parts.length;B++)if(T=P.parts[B],!!T.render.visible){if(A.showSleeping&&P.isSleeping?g.globalAlpha=.5*T.render.opacity:T.render.opacity!==1&&(g.globalAlpha=T.render.opacity),T.render.sprite&&T.render.sprite.texture&&!A.wireframes){var k=T.render.sprite,E=y(m,k.texture);g.translate(T.position.x,T.position.y),g.rotate(T.angle),g.drawImage(E,E.width*-k.xOffset*k.xScale,E.height*-k.yOffset*k.yScale,E.width*k.xScale,E.height*k.yScale),g.rotate(-T.angle),g.translate(-T.position.x,-T.position.y)}else{if(T.circleRadius)g.beginPath(),g.arc(T.position.x,T.position.y,T.circleRadius,0,2*Math.PI);else{g.beginPath(),g.moveTo(T.vertices[0].x,T.vertices[0].y);for(var L=1;L<T.vertices.length;L++)!T.vertices[L-1].isInternal||w?g.lineTo(T.vertices[L].x,T.vertices[L].y):g.moveTo(T.vertices[L].x,T.vertices[L].y),T.vertices[L].isInternal&&!w&&g.moveTo(T.vertices[(L+1)%T.vertices.length].x,T.vertices[(L+1)%T.vertices.length].y);g.lineTo(T.vertices[0].x,T.vertices[0].y),g.closePath()}A.wireframes?(g.lineWidth=1,g.strokeStyle="#bbb",g.stroke()):(g.fillStyle=T.render.fillStyle,T.render.lineWidth&&(g.lineWidth=T.render.lineWidth,g.strokeStyle=T.render.strokeStyle,g.stroke()),g.fill())}g.globalAlpha=1}}},r.bodyWireframes=function(m,h,x){var g=x,A=m.options.showInternalEdges,w,P,T,C,B;for(g.beginPath(),T=0;T<h.length;T++)if(w=h[T],!!w.render.visible)for(B=w.parts.length>1?1:0;B<w.parts.length;B++){for(P=w.parts[B],g.moveTo(P.vertices[0].x,P.vertices[0].y),C=1;C<P.vertices.length;C++)!P.vertices[C-1].isInternal||A?g.lineTo(P.vertices[C].x,P.vertices[C].y):g.moveTo(P.vertices[C].x,P.vertices[C].y),P.vertices[C].isInternal&&!A&&g.moveTo(P.vertices[(C+1)%P.vertices.length].x,P.vertices[(C+1)%P.vertices.length].y);g.lineTo(P.vertices[0].x,P.vertices[0].y)}g.lineWidth=1,g.strokeStyle="#bbb",g.stroke()},r.bodyConvexHulls=function(m,h,x){var g=x,A,w,P;for(g.beginPath(),w=0;w<h.length;w++)if(A=h[w],!(!A.render.visible||A.parts.length===1)){for(g.moveTo(A.vertices[0].x,A.vertices[0].y),P=1;P<A.vertices.length;P++)g.lineTo(A.vertices[P].x,A.vertices[P].y);g.lineTo(A.vertices[0].x,A.vertices[0].y)}g.lineWidth=1,g.strokeStyle="rgba(255,255,255,0.2)",g.stroke()},r.vertexNumbers=function(m,h,x){var g=x,A,w,P;for(A=0;A<h.length;A++){var T=h[A].parts;for(P=T.length>1?1:0;P<T.length;P++){var C=T[P];for(w=0;w<C.vertices.length;w++)g.fillStyle="rgba(255,255,255,0.2)",g.fillText(A+"_"+w,C.position.x+(C.vertices[w].x-C.position.x)*.8,C.position.y+(C.vertices[w].y-C.position.y)*.8)}}},r.mousePosition=function(m,h,x){var g=x;g.fillStyle="rgba(255,255,255,0.8)",g.fillText(h.position.x+"  "+h.position.y,h.position.x+5,h.position.y-5)},r.bodyBounds=function(m,h,x){var g=x;m.engine;var A=m.options;g.beginPath();for(var w=0;w<h.length;w++){var P=h[w];if(P.render.visible)for(var T=h[w].parts,C=T.length>1?1:0;C<T.length;C++){var B=T[C];g.rect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}A.wireframes?g.strokeStyle="rgba(255,255,255,0.08)":g.strokeStyle="rgba(0,0,0,0.1)",g.lineWidth=1,g.stroke()},r.bodyAxes=function(m,h,x){var g=x;m.engine;var A=m.options,w,P,T,C;for(g.beginPath(),P=0;P<h.length;P++){var B=h[P],k=B.parts;if(!!B.render.visible)if(A.showAxes)for(T=k.length>1?1:0;T<k.length;T++)for(w=k[T],C=0;C<w.axes.length;C++){var E=w.axes[C];g.moveTo(w.position.x,w.position.y),g.lineTo(w.position.x+E.x*20,w.position.y+E.y*20)}else for(T=k.length>1?1:0;T<k.length;T++)for(w=k[T],C=0;C<w.axes.length;C++)g.moveTo(w.position.x,w.position.y),g.lineTo((w.vertices[0].x+w.vertices[w.vertices.length-1].x)/2,(w.vertices[0].y+w.vertices[w.vertices.length-1].y)/2)}A.wireframes?(g.strokeStyle="indianred",g.lineWidth=1):(g.strokeStyle="rgba(255, 255, 255, 0.4)",g.globalCompositeOperation="overlay",g.lineWidth=2),g.stroke(),g.globalCompositeOperation="source-over"},r.bodyPositions=function(m,h,x){var g=x;m.engine;var A=m.options,w,P,T,C;for(g.beginPath(),T=0;T<h.length;T++)if(w=h[T],!!w.render.visible)for(C=0;C<w.parts.length;C++)P=w.parts[C],g.arc(P.position.x,P.position.y,3,0,2*Math.PI,!1),g.closePath();for(A.wireframes?g.fillStyle="indianred":g.fillStyle="rgba(0,0,0,0.5)",g.fill(),g.beginPath(),T=0;T<h.length;T++)w=h[T],w.render.visible&&(g.arc(w.positionPrev.x,w.positionPrev.y,2,0,2*Math.PI,!1),g.closePath());g.fillStyle="rgba(255,165,0,0.8)",g.fill()},r.bodyVelocity=function(m,h,x){var g=x;g.beginPath();for(var A=0;A<h.length;A++){var w=h[A];!w.render.visible||(g.moveTo(w.position.x,w.position.y),g.lineTo(w.position.x+(w.position.x-w.positionPrev.x)*2,w.position.y+(w.position.y-w.positionPrev.y)*2))}g.lineWidth=3,g.strokeStyle="cornflowerblue",g.stroke()},r.bodyIds=function(m,h,x){var g=x,A,w;for(A=0;A<h.length;A++)if(!!h[A].render.visible){var P=h[A].parts;for(w=P.length>1?1:0;w<P.length;w++){var T=P[w];g.font="12px Arial",g.fillStyle="rgba(255,255,255,0.5)",g.fillText(T.id,T.position.x+10,T.position.y-10)}}},r.collisions=function(m,h,x){var g=x,A=m.options,w,P,T,C;for(g.beginPath(),T=0;T<h.length;T++)if(w=h[T],!!w.isActive)for(P=w.collision,C=0;C<w.activeContacts.length;C++){var B=w.activeContacts[C],k=B.vertex;g.rect(k.x-1.5,k.y-1.5,3.5,3.5)}for(A.wireframes?g.fillStyle="rgba(255,255,255,0.7)":g.fillStyle="orange",g.fill(),g.beginPath(),T=0;T<h.length;T++)if(w=h[T],!!w.isActive&&(P=w.collision,w.activeContacts.length>0)){var E=w.activeContacts[0].vertex.x,L=w.activeContacts[0].vertex.y;w.activeContacts.length===2&&(E=(w.activeContacts[0].vertex.x+w.activeContacts[1].vertex.x)/2,L=(w.activeContacts[0].vertex.y+w.activeContacts[1].vertex.y)/2),P.bodyB===P.supports[0].body||P.bodyA.isStatic===!0?g.moveTo(E-P.normal.x*8,L-P.normal.y*8):g.moveTo(E+P.normal.x*8,L+P.normal.y*8),g.lineTo(E,L)}A.wireframes?g.strokeStyle="rgba(255,165,0,0.7)":g.strokeStyle="orange",g.lineWidth=1,g.stroke()},r.separations=function(m,h,x){var g=x,A=m.options,w,P,T,C,B;for(g.beginPath(),B=0;B<h.length;B++)if(w=h[B],!!w.isActive){P=w.collision,T=P.bodyA,C=P.bodyB;var k=1;!C.isStatic&&!T.isStatic&&(k=.5),C.isStatic&&(k=0),g.moveTo(C.position.x,C.position.y),g.lineTo(C.position.x-P.penetration.x*k,C.position.y-P.penetration.y*k),k=1,!C.isStatic&&!T.isStatic&&(k=.5),T.isStatic&&(k=0),g.moveTo(T.position.x,T.position.y),g.lineTo(T.position.x+P.penetration.x*k,T.position.y+P.penetration.y*k)}A.wireframes?g.strokeStyle="rgba(255,165,0,0.5)":g.strokeStyle="orange",g.stroke()},r.grid=function(m,h,x){var g=x,A=m.options;A.wireframes?g.strokeStyle="rgba(255,180,0,0.1)":g.strokeStyle="rgba(255,180,0,0.5)",g.beginPath();for(var w=f.keys(h.buckets),P=0;P<w.length;P++){var T=w[P];if(!(h.buckets[T].length<2)){var C=T.split(/C|R/);g.rect(.5+parseInt(C[1],10)*h.bucketWidth,.5+parseInt(C[2],10)*h.bucketHeight,h.bucketWidth,h.bucketHeight)}}g.lineWidth=1,g.stroke()},r.inspector=function(m,h){m.engine;var x=m.selected,g=m.render,A=g.options,w;if(A.hasBounds){var P=g.bounds.max.x-g.bounds.min.x,T=g.bounds.max.y-g.bounds.min.y,C=P/g.options.width,B=T/g.options.height;h.scale(1/C,1/B),h.translate(-g.bounds.min.x,-g.bounds.min.y)}for(var k=0;k<x.length;k++){var E=x[k].data;switch(h.translate(.5,.5),h.lineWidth=1,h.strokeStyle="rgba(255,165,0,0.9)",h.setLineDash([1,2]),E.type){case"body":w=E.bounds,h.beginPath(),h.rect(Math.floor(w.min.x-3),Math.floor(w.min.y-3),Math.floor(w.max.x-w.min.x+6),Math.floor(w.max.y-w.min.y+6)),h.closePath(),h.stroke();break;case"constraint":var L=E.pointA;E.bodyA&&(L=E.pointB),h.beginPath(),h.arc(L.x,L.y,10,0,2*Math.PI),h.closePath(),h.stroke();break}h.setLineDash([]),h.translate(-.5,-.5)}m.selectStart!==null&&(h.translate(.5,.5),h.lineWidth=1,h.strokeStyle="rgba(255,165,0,0.6)",h.fillStyle="rgba(255,165,0,0.1)",w=m.selectBounds,h.beginPath(),h.rect(Math.floor(w.min.x),Math.floor(w.min.y),Math.floor(w.max.x-w.min.x),Math.floor(w.max.y-w.min.y)),h.closePath(),h.stroke(),h.fill(),h.translate(-.5,-.5)),A.hasBounds&&h.setTransform(1,0,0,1,0,0)};var i=function(m,h){var x=m.engine,g=m.timing,A=g.historySize,w=x.timing.timestamp;g.delta=h-g.lastTime||r._goodDelta,g.lastTime=h,g.timestampElapsed=w-g.lastTimestamp||0,g.lastTimestamp=w,g.deltaHistory.unshift(g.delta),g.deltaHistory.length=Math.min(g.deltaHistory.length,A),g.engineDeltaHistory.unshift(x.timing.lastDelta),g.engineDeltaHistory.length=Math.min(g.engineDeltaHistory.length,A),g.timestampElapsedHistory.unshift(g.timestampElapsed),g.timestampElapsedHistory.length=Math.min(g.timestampElapsedHistory.length,A),g.engineElapsedHistory.unshift(x.timing.lastElapsed),g.engineElapsedHistory.length=Math.min(g.engineElapsedHistory.length,A),g.elapsedHistory.unshift(g.lastElapsed),g.elapsedHistory.length=Math.min(g.elapsedHistory.length,A)},s=function(m){for(var h=0,x=0;x<m.length;x+=1)h+=m[x];return h/m.length||0},l=function(m,h){var x=document.createElement("canvas");return x.width=m,x.height=h,x.oncontextmenu=function(){return!1},x.onselectstart=function(){return!1},x},p=function(m){var h=m.getContext("2d"),x=window.devicePixelRatio||1,g=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return x/g},y=function(m,h){var x=m.textures[h];return x||(x=m.textures[h]=new Image,x.src=h,x)},_=function(m,h){var x=h;/(jpg|gif|png)$/.test(h)&&(x="url("+h+")"),m.canvas.style.background=x,m.canvas.style.backgroundSize="contain",m.currentBackground=h}})()},function(v,S){var u={};v.exports=u,function(){u.create=function(r){return{id:u.id(r),vertex:r,normalImpulse:0,tangentImpulse:0}},u.id=function(r){return r.body.id+"_"+r.index}}()},function(v,S,u){var r={};v.exports=r;var f=u(7),o=u(19),a=u(13),d=u(20),c=u(21),e=u(4),n=u(5),t=u(8),i=u(0),s=u(6);(function(){r.create=function(l){l=l||{};var p={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},grid:null,gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},y=i.extend(p,l);return y.world=l.world||n.create({label:"World"}),y.grid=c.create(l.grid||l.broadphase),y.pairs=d.create(),y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},r.update=function(l,p,y){var _=i.now();p=p||1e3/60,y=y||1;var m=l.world,h=l.timing,x=l.grid,g=[],A;h.timestamp+=p*h.timeScale,h.lastDelta=p*h.timeScale;var w={timestamp:h.timestamp};e.trigger(l,"beforeUpdate",w);var P=n.allBodies(m),T=n.allConstraints(m);for(l.enableSleeping&&f.update(P,h.timeScale),r._bodiesApplyGravity(P,l.gravity),r._bodiesUpdate(P,p,h.timeScale,y,m.bounds),t.preSolveAll(P),A=0;A<l.constraintIterations;A++)t.solveAll(T,h.timeScale);t.postSolveAll(P),m.isModified&&c.clear(x),c.update(x,P,l,m.isModified),g=x.pairsList,m.isModified&&n.setModified(m,!1,!1,!0);var C=a.collisions(g,l),B=l.pairs,k=h.timestamp;for(d.update(B,C,k),d.removeOld(B,k),l.enableSleeping&&f.afterCollisions(B.list,h.timeScale),B.collisionStart.length>0&&e.trigger(l,"collisionStart",{pairs:B.collisionStart}),o.preSolvePosition(B.list),A=0;A<l.positionIterations;A++)o.solvePosition(B.list,h.timeScale);for(o.postSolvePosition(P),t.preSolveAll(P),A=0;A<l.constraintIterations;A++)t.solveAll(T,h.timeScale);for(t.postSolveAll(P),o.preSolveVelocity(B.list),A=0;A<l.velocityIterations;A++)o.solveVelocity(B.list,h.timeScale);return B.collisionActive.length>0&&e.trigger(l,"collisionActive",{pairs:B.collisionActive}),B.collisionEnd.length>0&&e.trigger(l,"collisionEnd",{pairs:B.collisionEnd}),r._bodiesClearForces(P),e.trigger(l,"afterUpdate",w),l.timing.lastElapsed=i.now()-_,l},r.merge=function(l,p){if(i.extend(l,p),p.world){l.world=p.world,r.clear(l);for(var y=n.allBodies(l.world),_=0;_<y.length;_++){var m=y[_];f.set(m,!1),m.id=i.nextId()}}},r.clear=function(l){var p=l.world,y=n.allBodies(p);d.clear(l.pairs),c.clear(l.grid),c.update(l.grid,y,l,!0)},r._bodiesClearForces=function(l){for(var p=0;p<l.length;p++){var y=l[p];y.force.x=0,y.force.y=0,y.torque=0}},r._bodiesApplyGravity=function(l,p){var y=typeof p.scale!="undefined"?p.scale:.001;if(!(p.x===0&&p.y===0||y===0))for(var _=0;_<l.length;_++){var m=l[_];m.isStatic||m.isSleeping||(m.force.y+=m.mass*p.y*y,m.force.x+=m.mass*p.x*y)}},r._bodiesUpdate=function(l,p,y,_,m){for(var h=0;h<l.length;h++){var x=l[h];x.isStatic||x.isSleeping||s.update(x,p,y,_)}}})()},function(v,S,u){var r={};v.exports=r;var f=u(3),o=u(2),a=u(0),d=u(1);(function(){r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(c){var e,n,t;for(e=0;e<c.length;e++)n=c[e],!!n.isActive&&(t=n.activeContacts.length,n.collision.parentA.totalContacts+=t,n.collision.parentB.totalContacts+=t)},r.solvePosition=function(c,e){var n,t,i,s,l,p,y,_,m,h=o._temp[0],x=o._temp[1],g=o._temp[2],A=o._temp[3];for(n=0;n<c.length;n++)t=c[n],!(!t.isActive||t.isSensor)&&(i=t.collision,s=i.parentA,l=i.parentB,p=i.normal,y=o.sub(o.add(l.positionImpulse,l.position,h),o.add(s.positionImpulse,o.sub(l.position,i.penetration,x),g),A),t.separation=o.dot(p,y));for(n=0;n<c.length;n++)t=c[n],!(!t.isActive||t.isSensor)&&(i=t.collision,s=i.parentA,l=i.parentB,p=i.normal,m=(t.separation-t.slop)*e,(s.isStatic||l.isStatic)&&(m*=2),s.isStatic||s.isSleeping||(_=r._positionDampen/s.totalContacts,s.positionImpulse.x+=p.x*m*_,s.positionImpulse.y+=p.y*m*_),l.isStatic||l.isSleeping||(_=r._positionDampen/l.totalContacts,l.positionImpulse.x-=p.x*m*_,l.positionImpulse.y-=p.y*m*_))},r.postSolvePosition=function(c){for(var e=0;e<c.length;e++){var n=c[e];if(n.totalContacts=0,n.positionImpulse.x!==0||n.positionImpulse.y!==0){for(var t=0;t<n.parts.length;t++){var i=n.parts[t];f.translate(i.vertices,n.positionImpulse),d.update(i.bounds,i.vertices,n.velocity),i.position.x+=n.positionImpulse.x,i.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,o.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=r._positionWarming,n.positionImpulse.y*=r._positionWarming)}}},r.preSolveVelocity=function(c){var e,n,t,i,s,l,p,y,_,m,h,x,g,A,w=o._temp[0],P=o._temp[1];for(e=0;e<c.length;e++)if(t=c[e],!(!t.isActive||t.isSensor))for(i=t.activeContacts,s=t.collision,l=s.parentA,p=s.parentB,y=s.normal,_=s.tangent,n=0;n<i.length;n++)m=i[n],h=m.vertex,x=m.normalImpulse,g=m.tangentImpulse,(x!==0||g!==0)&&(w.x=y.x*x+_.x*g,w.y=y.y*x+_.y*g,l.isStatic||l.isSleeping||(A=o.sub(h,l.position,P),l.positionPrev.x+=w.x*l.inverseMass,l.positionPrev.y+=w.y*l.inverseMass,l.anglePrev+=o.cross(A,w)*l.inverseInertia),p.isStatic||p.isSleeping||(A=o.sub(h,p.position,P),p.positionPrev.x-=w.x*p.inverseMass,p.positionPrev.y-=w.y*p.inverseMass,p.anglePrev-=o.cross(A,w)*p.inverseInertia))},r.solveVelocity=function(c,e){for(var n=e*e,t=o._temp[0],i=o._temp[1],s=o._temp[2],l=o._temp[3],p=o._temp[4],y=o._temp[5],_=0;_<c.length;_++){var m=c[_];if(!(!m.isActive||m.isSensor)){var h=m.collision,x=h.parentA,g=h.parentB,A=h.normal,w=h.tangent,P=m.activeContacts,T=1/P.length;x.velocity.x=x.position.x-x.positionPrev.x,x.velocity.y=x.position.y-x.positionPrev.y,g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,x.angularVelocity=x.angle-x.anglePrev,g.angularVelocity=g.angle-g.anglePrev;for(var C=0;C<P.length;C++){var B=P[C],k=B.vertex,E=o.sub(k,x.position,i),L=o.sub(k,g.position,s),F=o.add(x.velocity,o.mult(o.perp(E),x.angularVelocity),l),D=o.add(g.velocity,o.mult(o.perp(L),g.angularVelocity),p),b=o.sub(F,D,y),H=o.dot(A,b),R=o.dot(w,b),W=Math.abs(R),V=a.sign(R),X=(1+m.restitution)*H,Q=a.clamp(m.separation+H,0,1)*r._frictionNormalMultiplier,G=R,N=1/0;W>m.friction*m.frictionStatic*Q*n&&(N=W,G=a.clamp(m.friction*V*n,-N,N));var re=o.cross(E,A),ie=o.cross(L,A),ae=T/(x.inverseMass+g.inverseMass+x.inverseInertia*re*re+g.inverseInertia*ie*ie);if(X*=ae,G*=ae,H<0&&H*H>r._restingThresh*n)B.normalImpulse=0;else{var ce=B.normalImpulse;B.normalImpulse=Math.min(B.normalImpulse+X,0),X=B.normalImpulse-ce}if(R*R>r._restingThreshTangent*n)B.tangentImpulse=0;else{var de=B.tangentImpulse;B.tangentImpulse=a.clamp(B.tangentImpulse+G,-N,N),G=B.tangentImpulse-de}t.x=A.x*X+w.x*G,t.y=A.y*X+w.y*G,x.isStatic||x.isSleeping||(x.positionPrev.x+=t.x*x.inverseMass,x.positionPrev.y+=t.y*x.inverseMass,x.anglePrev+=o.cross(E,t)*x.inverseInertia),g.isStatic||g.isSleeping||(g.positionPrev.x-=t.x*g.inverseMass,g.positionPrev.y-=t.y*g.inverseMass,g.anglePrev-=o.cross(L,t)*g.inverseInertia)}}}}})()},function(v,S,u){var r={};v.exports=r;var f=u(9),o=u(0);(function(){r._pairMaxIdleLife=1e3,r.create=function(a){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},r.update=function(a,d,c){var e=a.list,n=a.table,t=a.collisionStart,i=a.collisionEnd,s=a.collisionActive,l,p,y,_;for(t.length=0,i.length=0,s.length=0,_=0;_<e.length;_++)e[_].confirmedActive=!1;for(_=0;_<d.length;_++)l=d[_],l.collided&&(p=f.id(l.bodyA,l.bodyB),y=n[p],y?(y.isActive?s.push(y):t.push(y),f.update(y,l,c),y.confirmedActive=!0):(y=f.create(l,c),n[p]=y,t.push(y),e.push(y)));for(_=0;_<e.length;_++)y=e[_],y.isActive&&!y.confirmedActive&&(f.setActive(y,!1,c),i.push(y))},r.removeOld=function(a,d){var c=a.list,e=a.table,n=[],t,i,s,l;for(l=0;l<c.length;l++){if(t=c[l],i=t.collision,i.bodyA.isSleeping||i.bodyB.isSleeping){t.timeUpdated=d;continue}d-t.timeUpdated>r._pairMaxIdleLife&&n.push(l)}for(l=0;l<n.length;l++)s=n[l]-l,t=c[s],delete e[t.id],c.splice(s,1)},r.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},function(v,S,u){var r={};v.exports=r;var f=u(9),o=u(0);(function(){r.create=function(a){var d={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(d,a)},r.update=function(a,d,c,e){var n,t,i,s=c.world,l=a.buckets,p,y,_=!1;for(n=0;n<d.length;n++){var m=d[n];if(!(m.isSleeping&&!e)&&!(s.bounds&&(m.bounds.max.x<s.bounds.min.x||m.bounds.min.x>s.bounds.max.x||m.bounds.max.y<s.bounds.min.y||m.bounds.min.y>s.bounds.max.y))){var h=r._getRegion(a,m);if(!m.region||h.id!==m.region.id||e){(!m.region||e)&&(m.region=h);var x=r._regionUnion(h,m.region);for(t=x.startCol;t<=x.endCol;t++)for(i=x.startRow;i<=x.endRow;i++){y=r._getBucketId(t,i),p=l[y];var g=t>=h.startCol&&t<=h.endCol&&i>=h.startRow&&i<=h.endRow,A=t>=m.region.startCol&&t<=m.region.endCol&&i>=m.region.startRow&&i<=m.region.endRow;!g&&A&&A&&p&&r._bucketRemoveBody(a,p,m),(m.region===h||g&&!A||e)&&(p||(p=r._createBucket(l,y)),r._bucketAddBody(a,p,m))}m.region=h,_=!0}}}_&&(a.pairsList=r._createActivePairsList(a))},r.clear=function(a){a.buckets={},a.pairs={},a.pairsList=[]},r._regionUnion=function(a,d){var c=Math.min(a.startCol,d.startCol),e=Math.max(a.endCol,d.endCol),n=Math.min(a.startRow,d.startRow),t=Math.max(a.endRow,d.endRow);return r._createRegion(c,e,n,t)},r._getRegion=function(a,d){var c=d.bounds,e=Math.floor(c.min.x/a.bucketWidth),n=Math.floor(c.max.x/a.bucketWidth),t=Math.floor(c.min.y/a.bucketHeight),i=Math.floor(c.max.y/a.bucketHeight);return r._createRegion(e,n,t,i)},r._createRegion=function(a,d,c,e){return{id:a+","+d+","+c+","+e,startCol:a,endCol:d,startRow:c,endRow:e}},r._getBucketId=function(a,d){return"C"+a+"R"+d},r._createBucket=function(a,d){var c=a[d]=[];return c},r._bucketAddBody=function(a,d,c){for(var e=0;e<d.length;e++){var n=d[e];if(!(c.id===n.id||c.isStatic&&n.isStatic)){var t=f.id(c,n),i=a.pairs[t];i?i[2]+=1:a.pairs[t]=[c,n,1]}}d.push(c)},r._bucketRemoveBody=function(a,d,c){d.splice(o.indexOf(d,c),1);for(var e=0;e<d.length;e++){var n=d[e],t=f.id(c,n),i=a.pairs[t];i&&(i[2]-=1)}},r._createActivePairsList=function(a){var d,c,e=[];d=o.keys(a.pairs);for(var n=0;n<d.length;n++)c=a.pairs[d[n]],c[2]>0?e.push(c):delete a.pairs[d[n]];return e}})()},function(v,S,u){var r=v.exports=u(23);r.Axes=u(10),r.Bodies=u(11),r.Body=u(6),r.Bounds=u(1),r.Common=u(0),r.Composite=u(5),r.Composites=u(24),r.Constraint=u(8),r.Contact=u(17),r.Detector=u(13),r.Engine=u(18),r.Events=u(4),r.Grid=u(21),r.Mouse=u(12),r.MouseConstraint=u(25),r.Pair=u(9),r.Pairs=u(20),r.Plugin=u(15),r.Query=u(26),r.Render=u(16),r.Resolver=u(19),r.Runner=u(27),r.SAT=u(14),r.Sleeping=u(7),r.Svg=u(28),r.Vector=u(2),r.Vertices=u(3),r.World=u(29),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(v,S,u){var r={};v.exports=r;var f=u(15),o=u(0);(function(){r.name="matter-js",r.version="0.17.1",r.uses=[],r.used=[],r.use=function(){f.use(r,Array.prototype.slice.call(arguments))},r.before=function(a,d){return a=a.replace(/^Matter./,""),o.chainPathBefore(r,a,d)},r.after=function(a,d){return a=a.replace(/^Matter./,""),o.chainPathAfter(r,a,d)}})()},function(v,S,u){var r={};v.exports=r;var f=u(5),o=u(8),a=u(0),d=u(6),c=u(11),e=a.deprecated;(function(){r.stack=function(n,t,i,s,l,p,y){for(var _=f.create({label:"Stack"}),m=n,h=t,x,g=0,A=0;A<s;A++){for(var w=0,P=0;P<i;P++){var T=y(m,h,P,A,x,g);if(T){var C=T.bounds.max.y-T.bounds.min.y,B=T.bounds.max.x-T.bounds.min.x;C>w&&(w=C),d.translate(T,{x:B*.5,y:C*.5}),m=T.bounds.max.x+l,f.addBody(_,T),x=T,g+=1}else m+=l}h+=w+p,m=n}return _},r.chain=function(n,t,i,s,l,p){for(var y=n.bodies,_=1;_<y.length;_++){var m=y[_-1],h=y[_],x=m.bounds.max.y-m.bounds.min.y,g=m.bounds.max.x-m.bounds.min.x,A=h.bounds.max.y-h.bounds.min.y,w=h.bounds.max.x-h.bounds.min.x,P={bodyA:m,pointA:{x:g*t,y:x*i},bodyB:h,pointB:{x:w*s,y:A*l}},T=a.extend(P,p);f.addConstraint(n,o.create(T))}return n.label+=" Chain",n},r.mesh=function(n,t,i,s,l){var p=n.bodies,y,_,m,h,x;for(y=0;y<i;y++){for(_=1;_<t;_++)m=p[_-1+y*t],h=p[_+y*t],f.addConstraint(n,o.create(a.extend({bodyA:m,bodyB:h},l)));if(y>0)for(_=0;_<t;_++)m=p[_+(y-1)*t],h=p[_+y*t],f.addConstraint(n,o.create(a.extend({bodyA:m,bodyB:h},l))),s&&_>0&&(x=p[_-1+(y-1)*t],f.addConstraint(n,o.create(a.extend({bodyA:x,bodyB:h},l)))),s&&_<t-1&&(x=p[_+1+(y-1)*t],f.addConstraint(n,o.create(a.extend({bodyA:x,bodyB:h},l))))}return n.label+=" Mesh",n},r.pyramid=function(n,t,i,s,l,p,y){return r.stack(n,t,i,s,l,p,function(_,m,h,x,g,A){var w=Math.min(s,Math.ceil(i/2)),P=g?g.bounds.max.x-g.bounds.min.x:0;if(!(x>w)){x=w-x;var T=x,C=i-1-x;if(!(h<T||h>C)){A===1&&d.translate(g,{x:(h+(i%2==1?1:-1))*P,y:0});var B=g?h*P:0;return y(n+B+h*l,m,h,x,g,A)}}})},r.newtonsCradle=function(n,t,i,s,l){for(var p=f.create({label:"Newtons Cradle"}),y=0;y<i;y++){var _=1.9,m=c.circle(n+y*(s*_),t+l,s,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=o.create({pointA:{x:n+y*(s*_),y:t},bodyB:m});f.addBody(p,m),f.addConstraint(p,h)}return p},e(r,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),r.car=function(n,t,i,s,l){var p=d.nextGroup(!0),y=20,_=-i*.5+y,m=i*.5-y,h=0,x=f.create({label:"Car"}),g=c.rectangle(n,t,i,s,{collisionFilter:{group:p},chamfer:{radius:s*.5},density:2e-4}),A=c.circle(n+_,t+h,l,{collisionFilter:{group:p},friction:.8}),w=c.circle(n+m,t+h,l,{collisionFilter:{group:p},friction:.8}),P=o.create({bodyB:g,pointB:{x:_,y:h},bodyA:A,stiffness:1,length:0}),T=o.create({bodyB:g,pointB:{x:m,y:h},bodyA:w,stiffness:1,length:0});return f.addBody(x,g),f.addBody(x,A),f.addBody(x,w),f.addConstraint(x,P),f.addConstraint(x,T),x},e(r,"car","Composites.car \u27A4 moved to car example"),r.softBody=function(n,t,i,s,l,p,y,_,m,h){m=a.extend({inertia:1/0},m),h=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},h);var x=r.stack(n,t,i,s,l,p,function(g,A){return c.circle(g,A,_,m)});return r.mesh(x,i,s,y,h),x.label="Soft Body",x},e(r,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(v,S,u){var r={};v.exports=r;var f=u(3),o=u(7),a=u(12),d=u(4),c=u(13),e=u(8),n=u(5),t=u(0),i=u(1);(function(){r.create=function(s,l){var p=(s?s.mouse:null)||(l?l.mouse:null);p||(s&&s.render&&s.render.canvas?p=a.create(s.render.canvas):l&&l.element?p=a.create(l.element):(p=a.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var y=e.create({label:"Mouse Constraint",pointA:p.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),_={type:"mouseConstraint",mouse:p,element:null,body:null,constraint:y,collisionFilter:{category:1,mask:4294967295,group:0}},m=t.extend(_,l);return d.on(s,"beforeUpdate",function(){var h=n.allBodies(s.world);r.update(m,h),r._triggerEvents(m)}),m},r.update=function(s,l){var p=s.mouse,y=s.constraint,_=s.body;if(p.button===0){if(y.bodyB)o.set(y.bodyB,!1),y.pointA=p.position;else for(var m=0;m<l.length;m++)if(_=l[m],i.contains(_.bounds,p.position)&&c.canCollide(_.collisionFilter,s.collisionFilter))for(var h=_.parts.length>1?1:0;h<_.parts.length;h++){var x=_.parts[h];if(f.contains(x.vertices,p.position)){y.pointA=p.position,y.bodyB=s.body=_,y.pointB={x:p.position.x-_.position.x,y:p.position.y-_.position.y},y.angleB=_.angle,o.set(_,!1),d.trigger(s,"startdrag",{mouse:p,body:_});break}}}else y.bodyB=s.body=null,y.pointB=null,_&&d.trigger(s,"enddrag",{mouse:p,body:_})},r._triggerEvents=function(s){var l=s.mouse,p=l.sourceEvents;p.mousemove&&d.trigger(s,"mousemove",{mouse:l}),p.mousedown&&d.trigger(s,"mousedown",{mouse:l}),p.mouseup&&d.trigger(s,"mouseup",{mouse:l}),a.clearSourceEvents(l)}})()},function(v,S,u){var r={};v.exports=r;var f=u(2),o=u(14),a=u(1),d=u(11),c=u(3);(function(){r.collides=function(e,n){for(var t=[],i=0;i<n.length;i++){var s=n[i];if(a.overlaps(s.bounds,e.bounds))for(var l=s.parts.length===1?0:1;l<s.parts.length;l++){var p=s.parts[l];if(a.overlaps(p.bounds,e.bounds)){var y=o.collides(p,e);if(y.collided){t.push(y);break}}}}return t},r.ray=function(e,n,t,i){i=i||1e-100;for(var s=f.angle(n,t),l=f.magnitude(f.sub(n,t)),p=(t.x+n.x)*.5,y=(t.y+n.y)*.5,_=d.rectangle(p,y,l,i,{angle:s}),m=r.collides(_,e),h=0;h<m.length;h+=1){var x=m[h];x.body=x.bodyB=x.bodyA}return m},r.region=function(e,n,t){for(var i=[],s=0;s<e.length;s++){var l=e[s],p=a.overlaps(l.bounds,n);(p&&!t||!p&&t)&&i.push(l)}return i},r.point=function(e,n){for(var t=[],i=0;i<e.length;i++){var s=e[i];if(a.contains(s.bounds,n))for(var l=s.parts.length===1?0:1;l<s.parts.length;l++){var p=s.parts[l];if(a.contains(p.bounds,n)&&c.contains(p.vertices,n)){t.push(s);break}}}return t}})()},function(v,S,u){var r={};v.exports=r;var f=u(4),o=u(18),a=u(0);(function(){var d,c;if(typeof window!="undefined"&&(d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!d){var e;d=function(n){e=setTimeout(function(){n(a.now())},1e3/60)},c=function(){clearTimeout(e)}}r.create=function(n){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},i=a.extend(t,n);return i.delta=i.delta||1e3/i.fps,i.deltaMin=i.deltaMin||1e3/i.fps,i.deltaMax=i.deltaMax||1e3/(i.fps*.5),i.fps=1e3/i.delta,i},r.run=function(n,t){return typeof n.positionIterations!="undefined"&&(t=n,n=r.create()),function i(s){n.frameRequestId=d(i),s&&n.enabled&&r.tick(n,t,s)}(),n},r.tick=function(n,t,i){var s=t.timing,l=1,p,y={timestamp:s.timestamp};f.trigger(n,"beforeTick",y),n.isFixed?p=n.delta:(p=i-n.timePrev||n.delta,n.timePrev=i,n.deltaHistory.push(p),n.deltaHistory=n.deltaHistory.slice(-n.deltaSampleSize),p=Math.min.apply(null,n.deltaHistory),p=p<n.deltaMin?n.deltaMin:p,p=p>n.deltaMax?n.deltaMax:p,l=p/n.delta,n.delta=p),n.timeScalePrev!==0&&(l*=s.timeScale/n.timeScalePrev),s.timeScale===0&&(l=0),n.timeScalePrev=s.timeScale,n.correction=l,n.frameCounter+=1,i-n.counterTimestamp>=1e3&&(n.fps=n.frameCounter*((i-n.counterTimestamp)/1e3),n.counterTimestamp=i,n.frameCounter=0),f.trigger(n,"tick",y),f.trigger(n,"beforeUpdate",y),o.update(t,p,l),f.trigger(n,"afterUpdate",y),f.trigger(n,"afterTick",y)},r.stop=function(n){c(n.frameRequestId)},r.start=function(n,t){r.run(n,t)}})()},function(v,S,u){var r={};v.exports=r,u(1);var f=u(0);(function(){r.pathToVertices=function(o,a){typeof window!="undefined"&&!("SVGPathSeg"in window)&&f.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var d,c,e,n,t,i,s,l,p,y,_=[],m,h,x=0,g=0,A=0;a=a||15;var w=function(T,C,B){var k=B%2==1&&B>1;if(!p||T!=p.x||C!=p.y){p&&k?(m=p.x,h=p.y):(m=0,h=0);var E={x:m+T,y:h+C};(k||!p)&&(p=E),_.push(E),g=m+T,A=h+C}},P=function(T){var C=T.pathSegTypeAsLetter.toUpperCase();if(C!=="Z"){switch(C){case"M":case"L":case"T":case"C":case"S":case"Q":g=T.x,A=T.y;break;case"H":g=T.x;break;case"V":A=T.y;break}w(g,A,T.pathSegType)}};for(r._svgPathToAbsolute(o),e=o.getTotalLength(),i=[],d=0;d<o.pathSegList.numberOfItems;d+=1)i.push(o.pathSegList.getItem(d));for(s=i.concat();x<e;){if(y=o.getPathSegAtLength(x),t=i[y],t!=l){for(;s.length&&s[0]!=t;)P(s.shift());l=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":n=o.getPointAtLength(x),w(n.x,n.y,0);break}x+=a}for(d=0,c=s.length;d<c;++d)P(s[d]);return _},r._svgPathToAbsolute=function(o){for(var a,d,c,e,n,t,i=o.pathSegList,s=0,l=0,p=i.numberOfItems,y=0;y<p;++y){var _=i.getItem(y),m=_.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(m))"x"in _&&(s=_.x),"y"in _&&(l=_.y);else switch("x1"in _&&(c=s+_.x1),"x2"in _&&(n=s+_.x2),"y1"in _&&(e=l+_.y1),"y2"in _&&(t=l+_.y2),"x"in _&&(s+=_.x),"y"in _&&(l+=_.y),m){case"m":i.replaceItem(o.createSVGPathSegMovetoAbs(s,l),y);break;case"l":i.replaceItem(o.createSVGPathSegLinetoAbs(s,l),y);break;case"h":i.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(s),y);break;case"v":i.replaceItem(o.createSVGPathSegLinetoVerticalAbs(l),y);break;case"c":i.replaceItem(o.createSVGPathSegCurvetoCubicAbs(s,l,c,e,n,t),y);break;case"s":i.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(s,l,n,t),y);break;case"q":i.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(s,l,c,e),y);break;case"t":i.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(s,l),y);break;case"a":i.replaceItem(o.createSVGPathSegArcAbs(s,l,_.r1,_.r2,_.angle,_.largeArcFlag,_.sweepFlag),y);break;case"z":case"Z":s=a,l=d;break}(m=="M"||m=="m")&&(a=s,d=l)}}})()},function(v,S,u){var r={};v.exports=r;var f=u(5);u(0),function(){r.create=f.create,r.add=f.add,r.remove=f.remove,r.clear=f.clear,r.addComposite=f.addComposite,r.addBody=f.addBody,r.addConstraint=f.addConstraint}()}])})})(pe);var oe={decomp:Me,quickDecomp:J,isSimple:Ie,removeCollinearPoints:Ce,removeDuplicatePoints:Be,makeCCW:ye};function me(M,I,v){v=v||0;var S=[0,0],u,r,f,o,a,d,c;return u=M[1][1]-M[0][1],r=M[0][0]-M[1][0],f=u*M[0][0]+r*M[0][1],o=I[1][1]-I[0][1],a=I[0][0]-I[1][0],d=o*I[0][0]+a*I[0][1],c=u*a-o*r,j(c,0,v)||(S[0]=(a*f-r*d)/c,S[1]=(u*d-o*f)/c),S}function ee(M,I,v,S){var u=I[0]-M[0],r=I[1]-M[1],f=S[0]-v[0],o=S[1]-v[1];if(f*r-o*u==0)return!1;var a=(u*(v[1]-M[1])+r*(M[0]-v[0]))/(f*r-o*u),d=(f*(M[1]-v[1])+o*(v[0]-M[0]))/(o*u-f*r);return a>=0&&a<=1&&d>=0&&d<=1}function Z(M,I,v){return(I[0]-M[0])*(v[1]-M[1])-(v[0]-M[0])*(I[1]-M[1])}function z(M,I,v){return Z(M,I,v)>0}function te(M,I,v){return Z(M,I,v)>=0}function se(M,I,v){return Z(M,I,v)<0}function Y(M,I,v){return Z(M,I,v)<=0}var he=[],ge=[];function xe(M,I,v,S){if(S){var u=he,r=ge;u[0]=I[0]-M[0],u[1]=I[1]-M[1],r[0]=v[0]-I[0],r[1]=v[1]-I[1];var f=u[0]*r[0]+u[1]*r[1],o=Math.sqrt(u[0]*u[0]+u[1]*u[1]),a=Math.sqrt(r[0]*r[0]+r[1]*r[1]),d=Math.acos(f/(o*a));return d<S}else return Z(M,I,v)===0}function K(M,I){var v=I[0]-M[0],S=I[1]-M[1];return v*v+S*S}function O(M,I){var v=M.length;return M[I<0?I%v+v:I%v]}function _e(M){M.length=0}function $(M,I,v,S){for(var u=v;u<S;u++)M.push(I[u])}function ye(M){for(var I=0,v=M,S=1;S<M.length;++S)(v[S][1]<v[I][1]||v[S][1]===v[I][1]&&v[S][0]>v[I][0])&&(I=S);return z(O(M,I-1),O(M,I),O(M,I+1))?!1:(Se(M),!0)}function Se(M){for(var I=[],v=M.length,S=0;S!==v;S++)I.push(M.pop());for(var S=0;S!==v;S++)M[S]=I[S]}function le(M,I){return se(O(M,I-1),O(M,I),O(M,I+1))}var we=[],Ae=[];function Te(M,I,v){var S,u,r=we,f=Ae;if(te(O(M,I+1),O(M,I),O(M,v))&&Y(O(M,I-1),O(M,I),O(M,v)))return!1;u=K(O(M,I),O(M,v));for(var o=0;o!==M.length;++o)if(!((o+1)%M.length===I||o===I)&&te(O(M,I),O(M,v),O(M,o+1))&&Y(O(M,I),O(M,v),O(M,o))&&(r[0]=O(M,I),r[1]=O(M,v),f[0]=O(M,o),f[1]=O(M,o+1),S=me(r,f),K(O(M,I),S)<u))return!1;return!0}function Pe(M,I,v){for(var S=0;S!==M.length;++S)if(!(S===I||S===v||(S+1)%M.length===I||(S+1)%M.length===v)&&ee(O(M,I),O(M,v),O(M,S),O(M,S+1)))return!1;return!0}function q(M,I,v,S){var u=S||[];if(_e(u),I<v)for(var r=I;r<=v;r++)u.push(M[r]);else{for(var r=0;r<=v;r++)u.push(M[r]);for(var r=I;r<M.length;r++)u.push(M[r])}return u}function ne(M){for(var I=[],v=[],S=[],u=[],r=Number.MAX_VALUE,f=0;f<M.length;++f)if(le(M,f)){for(var o=0;o<M.length;++o)if(Te(M,f,o)){v=ne(q(M,f,o,u)),S=ne(q(M,o,f,u));for(var a=0;a<S.length;a++)v.push(S[a]);v.length<r&&(I=v,r=v.length,I.push([O(M,f),O(M,o)]))}}return I}function Me(M){var I=ne(M);return I.length>0?fe(M,I):[M]}function fe(M,I){if(I.length===0)return[M];if(I instanceof Array&&I.length&&I[0]instanceof Array&&I[0].length===2&&I[0][0]instanceof Array){for(var v=[M],S=0;S<I.length;S++)for(var u=I[S],r=0;r<v.length;r++){var f=v[r],o=fe(f,u);if(o){v.splice(r,1),v.push(o[0],o[1]);break}}return v}else{var u=I,S=M.indexOf(u[0]),r=M.indexOf(u[1]);return S!==-1&&r!==-1?[q(M,S,r),q(M,r,S)]:!1}}function Ie(M){var I=M,v;for(v=0;v<I.length-1;v++)for(var S=0;S<v-1;S++)if(ee(I[v],I[v+1],I[S],I[S+1]))return!1;for(v=1;v<I.length-2;v++)if(ee(I[0],I[I.length-1],I[v],I[v+1]))return!1;return!0}function ue(M,I,v,S,u){u=u||0;var r=I[1]-M[1],f=M[0]-I[0],o=r*M[0]+f*M[1],a=S[1]-v[1],d=v[0]-S[0],c=a*v[0]+d*v[1],e=r*d-a*f;return j(e,0,u)?[0,0]:[(d*o-f*c)/e,(r*c-a*o)/e]}function J(M,I,v,S,u,r,f){r=r||100,f=f||0,u=u||25,I=typeof I!="undefined"?I:[],v=v||[],S=S||[];var o=[0,0],a=[0,0],d=[0,0],c=0,e=0,n=0,t=0,i=0,s=0,l=0,p=[],y=[],_=M,m=M;if(m.length<3)return I;if(f++,f>r)return console.warn("quickDecomp: max level ("+r+") reached."),I;for(var h=0;h<M.length;++h)if(le(_,h)){v.push(_[h]),c=e=Number.MAX_VALUE;for(var x=0;x<M.length;++x)z(O(_,h-1),O(_,h),O(_,x))&&Y(O(_,h-1),O(_,h),O(_,x-1))&&(d=ue(O(_,h-1),O(_,h),O(_,x),O(_,x-1)),se(O(_,h+1),O(_,h),d)&&(n=K(_[h],d),n<e&&(e=n,a=d,s=x))),z(O(_,h+1),O(_,h),O(_,x+1))&&Y(O(_,h+1),O(_,h),O(_,x))&&(d=ue(O(_,h+1),O(_,h),O(_,x),O(_,x+1)),z(O(_,h-1),O(_,h),d)&&(n=K(_[h],d),n<c&&(c=n,o=d,i=x)));if(s===(i+1)%M.length)d[0]=(a[0]+o[0])/2,d[1]=(a[1]+o[1])/2,S.push(d),h<i?($(p,_,h,i+1),p.push(d),y.push(d),s!==0&&$(y,_,s,_.length),$(y,_,0,h+1)):(h!==0&&$(p,_,h,_.length),$(p,_,0,i+1),p.push(d),y.push(d),$(y,_,s,h+1));else{if(s>i&&(i+=M.length),t=Number.MAX_VALUE,i<s)return I;for(var x=s;x<=i;++x)te(O(_,h-1),O(_,h),O(_,x))&&Y(O(_,h+1),O(_,h),O(_,x))&&(n=K(O(_,h),O(_,x)),n<t&&Pe(_,h,x)&&(t=n,l=x%M.length));h<l?($(p,_,h,l+1),l!==0&&$(y,_,l,m.length),$(y,_,0,h+1)):(h!==0&&$(p,_,h,m.length),$(p,_,0,l+1),$(y,_,l,h+1))}return p.length<y.length?(J(p,I,v,S,u,r,f),J(y,I,v,S,u,r,f)):(J(y,I,v,S,u,r,f),J(p,I,v,S,u,r,f)),I}return I.push(M),I}function Ce(M,I){for(var v=0,S=M.length-1;M.length>3&&S>=0;--S)xe(O(M,S-1),O(M,S),O(M,S+1),I)&&(M.splice(S%M.length,1),v++);return v}function Be(M,I){for(var v=M.length-1;v>=1;--v)for(var S=M[v],u=v-1;u>=0;--u)if(ke(S,M[u],I)){M.splice(v,1);continue}}function j(M,I,v){return v=v||0,Math.abs(M-I)<=v}function ke(M,I,v){return j(M[0],I[0],v)&&j(M[1],I[1],v)}var Ee=Object.freeze(ve({__proto__:null,[Symbol.toStringTag]:"Module",default:oe},[oe])),Oe={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(M){(function(){var I=function(){this.init()};I.prototype={init:function(){var e=this||v;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var n=this||v;if(e=parseFloat(e),n.ctx||c(),typeof e!="undefined"&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e,v.ctx.currentTime);for(var t=0;t<n._howls.length;t++)if(!n._howls[t]._webAudio)for(var i=n._howls[t]._getSoundIds(),s=0;s<i.length;s++){var l=n._howls[t]._soundById(i[s]);l&&l._node&&(l._node.volume=l._volume*e)}return n}return n._volume},mute:function(e){var n=this||v;n.ctx||c(),n._muted=e,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e?0:n._volume,v.ctx.currentTime);for(var t=0;t<n._howls.length;t++)if(!n._howls[t]._webAudio)for(var i=n._howls[t]._getSoundIds(),s=0;s<i.length;s++){var l=n._howls[t]._soundById(i[s]);l&&l._node&&(l._node.muted=e?!0:l._muted)}return n},stop:function(){for(var e=this||v,n=0;n<e._howls.length;n++)e._howls[n].stop();return e},unload:function(){for(var e=this||v,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close!="undefined"&&(e.ctx.close(),e.ctx=null,c()),e},codecs:function(e){return(this||v)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||v;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio!="undefined")try{var n=new Audio;typeof n.oncanplaythrough=="undefined"&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{var n=new Audio;n.muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||v,n=null;try{n=typeof Audio!="undefined"?new Audio:null}catch(m){return e}if(!n||typeof n.canPlayType!="function")return e;var t=n.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",s=i.match(/OPR\/([0-6].)/g),l=s&&parseInt(s[0].split("/")[1],10)<33,p=i.indexOf("Safari")!==-1&&i.indexOf("Chrome")===-1,y=i.match(/Version\/(.*?) /),_=p&&y&&parseInt(y[1],10)<15;return e._codecs={mp3:!!(!l&&(t||n.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!t,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!_&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!_&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||v;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var n=function(t){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch(m){e.noAudio=!0;break}for(var s=0;s<e._howls.length;s++)if(!e._howls[s]._webAudio)for(var l=e._howls[s]._getSoundIds(),p=0;p<l.length;p++){var y=e._howls[s]._soundById(l[p]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}e._autoResume();var _=e.ctx.createBufferSource();_.buffer=e._scratchBuffer,_.connect(e.ctx.destination),typeof _.start=="undefined"?_.noteOn(0):_.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),_.onended=function(){_.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var m=0;m<e._howls.length;m++)e._howls[m]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),e}},_obtainHtml5Audio:function(){var e=this||v;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var n=new Audio().play();return n&&typeof Promise!="undefined"&&(n instanceof Promise||typeof n.then=="function")&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var n=this||v;return e._unlocked&&n._html5AudioPool.push(e),n},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend=="undefined"||!v.usingWebAudio)){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio){for(var t=0;t<e._howls[n]._sounds.length;t++)if(!e._howls[n]._sounds[t]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(!!e.autoSuspend){e._suspendTimer=null,e.state="suspending";var i=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(i,i)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume=="undefined"||!v.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var v=new I,S=function(e){var n=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}n.init(e)};S.prototype={init:function(e){var n=this;return v.ctx||c(),n._autoplay=e.autoplay||!1,n._format=typeof e.format!="string"?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src=typeof e.src!="string"?e.src:[e.src],n._volume=e.volume!==void 0?e.volume:1,n._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onunlock=e.onunlock?[{fn:e.onunlock}]:[],n._onresume=[],n._webAudio=v.usingWebAudio&&!n._html5,typeof v.ctx!="undefined"&&v.ctx&&v.autoUnlock&&v._unlockAudio(),v._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n._preload!=="none"&&n.load(),n},load:function(){var e=this,n=null;if(v.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var t=0;t<e._src.length;t++){var i,s;if(e._format&&e._format[t])i=e._format[t];else{if(s=e._src[t],typeof s!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}i=/^data:audio\/([^;,]+);/i.exec(s),i||(i=/\.([^.]+)$/.exec(s.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&v.codecs(i)){n=e._src[t];break}}if(!n){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=n,e._state="loading",window.location.protocol==="https:"&&n.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new u(e),e._webAudio&&f(e),e},play:function(e,n){var t=this,i=null;if(typeof e=="number")i=e,e=null;else{if(typeof e=="string"&&t._state==="loaded"&&!t._sprite[e])return null;if(typeof e=="undefined"&&(e="__default",!t._playLock)){for(var s=0,l=0;l<t._sounds.length;l++)t._sounds[l]._paused&&!t._sounds[l]._ended&&(s++,i=t._sounds[l]._id);s===1?e=null:i=null}}var p=i?t._soundById(i):t._inactiveSound();if(!p)return null;if(i&&!e&&(e=p._sprite||"__default"),t._state!=="loaded"){p._sprite=e,p._ended=!1;var y=p._id;return t._queue.push({event:"play",action:function(){t.play(y)}}),y}if(i&&!p._paused)return n||t._loadQueue("play"),p._id;t._webAudio&&v._autoResume();var _=Math.max(0,p._seek>0?p._seek:t._sprite[e][0]/1e3),m=Math.max(0,(t._sprite[e][0]+t._sprite[e][1])/1e3-_),h=m*1e3/Math.abs(p._rate),x=t._sprite[e][0]/1e3,g=(t._sprite[e][0]+t._sprite[e][1])/1e3;p._sprite=e,p._ended=!1;var A=function(){p._paused=!1,p._seek=_,p._start=x,p._stop=g,p._loop=!!(p._loop||t._sprite[e][2])};if(_>=g){t._ended(p);return}var w=p._node;if(t._webAudio){var P=function(){t._playLock=!1,A(),t._refreshBuffer(p);var k=p._muted||t._muted?0:p._volume;w.gain.setValueAtTime(k,v.ctx.currentTime),p._playStart=v.ctx.currentTime,typeof w.bufferSource.start=="undefined"?p._loop?w.bufferSource.noteGrainOn(0,_,86400):w.bufferSource.noteGrainOn(0,_,m):p._loop?w.bufferSource.start(0,_,86400):w.bufferSource.start(0,_,m),h!==1/0&&(t._endTimers[p._id]=setTimeout(t._ended.bind(t,p),h)),n||setTimeout(function(){t._emit("play",p._id),t._loadQueue()},0)};v.state==="running"&&v.ctx.state!=="interrupted"?P():(t._playLock=!0,t.once("resume",P),t._clearTimer(p._id))}else{var T=function(){w.currentTime=_,w.muted=p._muted||t._muted||v._muted||w.muted,w.volume=p._volume*v.volume(),w.playbackRate=p._rate;try{var k=w.play();if(k&&typeof Promise!="undefined"&&(k instanceof Promise||typeof k.then=="function")?(t._playLock=!0,A(),k.then(function(){t._playLock=!1,w._unlocked=!0,n?t._loadQueue():t._emit("play",p._id)}).catch(function(){t._playLock=!1,t._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),p._ended=!0,p._paused=!0})):n||(t._playLock=!1,A(),t._emit("play",p._id)),w.playbackRate=p._rate,w.paused){t._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||p._loop?t._endTimers[p._id]=setTimeout(t._ended.bind(t,p),h):(t._endTimers[p._id]=function(){t._ended(p),w.removeEventListener("ended",t._endTimers[p._id],!1)},w.addEventListener("ended",t._endTimers[p._id],!1))}catch(E){t._emit("playerror",p._id,E)}};w.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(w.src=t._src,w.load());var C=window&&window.ejecta||!w.readyState&&v._navigator.isCocoonJS;if(w.readyState>=3||C)T();else{t._playLock=!0,t._state="loading";var B=function(){t._state="loaded",T(),w.removeEventListener(v._canPlayEvent,B,!1)};w.addEventListener(v._canPlayEvent,B,!1),t._clearTimer(p._id)}}return p._id},pause:function(e){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var t=n._getSoundIds(e),i=0;i<t.length;i++){n._clearTimer(t[i]);var s=n._soundById(t[i]);if(s&&!s._paused&&(s._seek=n.seek(t[i]),s._rateSeek=0,s._paused=!0,n._stopFade(t[i]),s._node))if(n._webAudio){if(!s._node.bufferSource)continue;typeof s._node.bufferSource.stop=="undefined"?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),n._cleanBuffer(s._node)}else(!isNaN(s._node.duration)||s._node.duration===1/0)&&s._node.pause();arguments[1]||n._emit("pause",s?s._id:null)}return n},stop:function(e,n){var t=this;if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"stop",action:function(){t.stop(e)}}),t;for(var i=t._getSoundIds(e),s=0;s<i.length;s++){t._clearTimer(i[s]);var l=t._soundById(i[s]);l&&(l._seek=l._start||0,l._rateSeek=0,l._paused=!0,l._ended=!0,t._stopFade(i[s]),l._node&&(t._webAudio?l._node.bufferSource&&(typeof l._node.bufferSource.stop=="undefined"?l._node.bufferSource.noteOff(0):l._node.bufferSource.stop(0),t._cleanBuffer(l._node)):(!isNaN(l._node.duration)||l._node.duration===1/0)&&(l._node.currentTime=l._start||0,l._node.pause(),l._node.duration===1/0&&t._clearSound(l._node))),n||t._emit("stop",l._id))}return t},mute:function(e,n){var t=this;if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"mute",action:function(){t.mute(e,n)}}),t;if(typeof n=="undefined")if(typeof e=="boolean")t._muted=e;else return t._muted;for(var i=t._getSoundIds(n),s=0;s<i.length;s++){var l=t._soundById(i[s]);l&&(l._muted=e,l._interval&&t._stopFade(l._id),t._webAudio&&l._node?l._node.gain.setValueAtTime(e?0:l._volume,v.ctx.currentTime):l._node&&(l._node.muted=v._muted?!0:e),t._emit("mute",l._id))}return t},volume:function(){var e=this,n=arguments,t,i;if(n.length===0)return e._volume;if(n.length===1||n.length===2&&typeof n[1]=="undefined"){var s=e._getSoundIds(),l=s.indexOf(n[0]);l>=0?i=parseInt(n[0],10):t=parseFloat(n[0])}else n.length>=2&&(t=parseFloat(n[0]),i=parseInt(n[1],10));var p;if(typeof t!="undefined"&&t>=0&&t<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,n)}}),e;typeof i=="undefined"&&(e._volume=t),i=e._getSoundIds(i);for(var y=0;y<i.length;y++)p=e._soundById(i[y]),p&&(p._volume=t,n[2]||e._stopFade(i[y]),e._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(t,v.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=t*v.volume()),e._emit("volume",p._id))}else return p=i?e._soundById(i):e._sounds[0],p?p._volume:0;return e},fade:function(e,n,t,i){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(e,n,t,i)}}),s;e=Math.min(Math.max(0,parseFloat(e)),1),n=Math.min(Math.max(0,parseFloat(n)),1),t=parseFloat(t),s.volume(e,i);for(var l=s._getSoundIds(i),p=0;p<l.length;p++){var y=s._soundById(l[p]);if(y){if(i||s._stopFade(l[p]),s._webAudio&&!y._muted){var _=v.ctx.currentTime,m=_+t/1e3;y._volume=e,y._node.gain.setValueAtTime(e,_),y._node.gain.linearRampToValueAtTime(n,m)}s._startFadeInterval(y,e,n,t,l[p],typeof i=="undefined")}}return s},_startFadeInterval:function(e,n,t,i,s,l){var p=this,y=n,_=t-n,m=Math.abs(_/.01),h=Math.max(4,m>0?i/m:i),x=Date.now();e._fadeTo=t,e._interval=setInterval(function(){var g=(Date.now()-x)/i;x=Date.now(),y+=_*g,y=Math.round(y*100)/100,_<0?y=Math.max(t,y):y=Math.min(t,y),p._webAudio?e._volume=y:p.volume(y,e._id,!0),l&&(p._volume=y),(t<n&&y<=t||t>n&&y>=t)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,p.volume(t,e._id),p._emit("fade",e._id))},h)},_stopFade:function(e){var n=this,t=n._soundById(e);return t&&t._interval&&(n._webAudio&&t._node.gain.cancelScheduledValues(v.ctx.currentTime),clearInterval(t._interval),t._interval=null,n.volume(t._fadeTo,e),t._fadeTo=null,n._emit("fade",e)),n},loop:function(){var e=this,n=arguments,t,i,s;if(n.length===0)return e._loop;if(n.length===1)if(typeof n[0]=="boolean")t=n[0],e._loop=t;else return s=e._soundById(parseInt(n[0],10)),s?s._loop:!1;else n.length===2&&(t=n[0],i=parseInt(n[1],10));for(var l=e._getSoundIds(i),p=0;p<l.length;p++)s=e._soundById(l[p]),s&&(s._loop=t,e._webAudio&&s._node&&s._node.bufferSource&&(s._node.bufferSource.loop=t,t&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop,e.playing(l[p])&&(e.pause(l[p],!0),e.play(l[p],!0)))));return e},rate:function(){var e=this,n=arguments,t,i;if(n.length===0)i=e._sounds[0]._id;else if(n.length===1){var s=e._getSoundIds(),l=s.indexOf(n[0]);l>=0?i=parseInt(n[0],10):t=parseFloat(n[0])}else n.length===2&&(t=parseFloat(n[0]),i=parseInt(n[1],10));var p;if(typeof t=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,n)}}),e;typeof i=="undefined"&&(e._rate=t),i=e._getSoundIds(i);for(var y=0;y<i.length;y++)if(p=e._soundById(i[y]),p){e.playing(i[y])&&(p._rateSeek=e.seek(i[y]),p._playStart=e._webAudio?v.ctx.currentTime:p._playStart),p._rate=t,e._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(t,v.ctx.currentTime):p._node&&(p._node.playbackRate=t);var _=e.seek(i[y]),m=(e._sprite[p._sprite][0]+e._sprite[p._sprite][1])/1e3-_,h=m*1e3/Math.abs(p._rate);(e._endTimers[i[y]]||!p._paused)&&(e._clearTimer(i[y]),e._endTimers[i[y]]=setTimeout(e._ended.bind(e,p),h)),e._emit("rate",p._id)}}else return p=e._soundById(i),p?p._rate:e._rate;return e},seek:function(){var e=this,n=arguments,t,i;if(n.length===0)e._sounds.length&&(i=e._sounds[0]._id);else if(n.length===1){var s=e._getSoundIds(),l=s.indexOf(n[0]);l>=0?i=parseInt(n[0],10):e._sounds.length&&(i=e._sounds[0]._id,t=parseFloat(n[0]))}else n.length===2&&(t=parseFloat(n[0]),i=parseInt(n[1],10));if(typeof i=="undefined")return 0;if(typeof t=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,n)}}),e;var p=e._soundById(i);if(p)if(typeof t=="number"&&t>=0){var y=e.playing(i);y&&e.pause(i,!0),p._seek=t,p._ended=!1,e._clearTimer(i),!e._webAudio&&p._node&&!isNaN(p._node.duration)&&(p._node.currentTime=t);var _=function(){y&&e.play(i,!0),e._emit("seek",i)};if(y&&!e._webAudio){var m=function(){e._playLock?setTimeout(m,0):_()};setTimeout(m,0)}else _()}else if(e._webAudio){var h=e.playing(i)?v.ctx.currentTime-p._playStart:0,x=p._rateSeek?p._rateSeek-p._seek:0;return p._seek+(x+h*Math.abs(p._rate))}else return p._node.currentTime;return e},playing:function(e){var n=this;if(typeof e=="number"){var t=n._soundById(e);return t?!t._paused:!1}for(var i=0;i<n._sounds.length;i++)if(!n._sounds[i]._paused)return!0;return!1},duration:function(e){var n=this,t=n._duration,i=n._soundById(e);return i&&(t=n._sprite[i._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,t=0;t<n.length;t++)n[t]._paused||e.stop(n[t]._id),e._webAudio||(e._clearSound(n[t]._node),n[t]._node.removeEventListener("error",n[t]._errorFn,!1),n[t]._node.removeEventListener(v._canPlayEvent,n[t]._loadFn,!1),n[t]._node.removeEventListener("ended",n[t]._endFn,!1),v._releaseHtml5Audio(n[t]._node)),delete n[t]._node,e._clearTimer(n[t]._id);var i=v._howls.indexOf(e);i>=0&&v._howls.splice(i,1);var s=!0;for(t=0;t<v._howls.length;t++)if(v._howls[t]._src===e._src||e._src.indexOf(v._howls[t]._src)>=0){s=!1;break}return r&&s&&delete r[e._src],v.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,n,t,i){var s=this,l=s["_on"+e];return typeof n=="function"&&l.push(i?{id:t,fn:n,once:i}:{id:t,fn:n}),s},off:function(e,n,t){var i=this,s=i["_on"+e],l=0;if(typeof n=="number"&&(t=n,n=null),n||t)for(l=0;l<s.length;l++){var p=t===s[l].id;if(n===s[l].fn&&p||!n&&p){s.splice(l,1);break}}else if(e)i["_on"+e]=[];else{var y=Object.keys(i);for(l=0;l<y.length;l++)y[l].indexOf("_on")===0&&Array.isArray(i[y[l]])&&(i[y[l]]=[])}return i},once:function(e,n,t){var i=this;return i.on(e,n,t,1),i},_emit:function(e,n,t){for(var i=this,s=i["_on"+e],l=s.length-1;l>=0;l--)(!s[l].id||s[l].id===n||e==="load")&&(setTimeout(function(p){p.call(this,n,t)}.bind(i,s[l].fn),0),s[l].once&&i.off(e,s[l].fn,s[l].id));return i._loadQueue(e),i},_loadQueue:function(e){var n=this;if(n._queue.length>0){var t=n._queue[0];t.event===e&&(n._queue.shift(),n._loadQueue()),e||t.action()}return n},_ended:function(e){var n=this,t=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(n._ended.bind(n,e),100),n;var i=!!(e._loop||n._sprite[t][2]);if(n._emit("end",e._id),!n._webAudio&&i&&n.stop(e._id,!0).play(e._id),n._webAudio&&i){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=v.ctx.currentTime;var s=(e._stop-e._start)*1e3/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),s)}return n._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),v._autoSuspend()),!n._webAudio&&!i&&n.stop(e._id,!0),n},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(typeof n._endTimers[e]!="function")clearTimeout(n._endTimers[e]);else{var t=n._soundById(e);t&&t._node&&t._node.removeEventListener("ended",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,t=0;t<n._sounds.length;t++)if(e===n._sounds[t]._id)return n._sounds[t];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new u(e)},_drain:function(){var e=this,n=e._pool,t=0,i=0;if(!(e._sounds.length<n)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&t++;for(i=e._sounds.length-1;i>=0;i--){if(t<=n)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),t--)}}},_getSoundIds:function(e){var n=this;if(typeof e=="undefined"){for(var t=[],i=0;i<n._sounds.length;i++)t.push(n._sounds[i]._id);return t}else return[e]},_refreshBuffer:function(e){var n=this;return e._node.bufferSource=v.ctx.createBufferSource(),e._node.bufferSource.buffer=r[n._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,v.ctx.currentTime),n},_cleanBuffer:function(e){var n=this,t=v._navigator&&v._navigator.vendor.indexOf("Apple")>=0;if(v._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=v._scratchBuffer}catch(i){}return e.bufferSource=null,n},_clearSound:function(e){var n=/MSIE |Trident\//.test(v._navigator&&v._navigator.userAgent);n||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var u=function(e){this._parent=e,this.init()};u.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++v._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,t=v._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=typeof v.ctx.createGain=="undefined"?v.ctx.createGainNode():v.ctx.createGain(),e._node.gain.setValueAtTime(t,v.ctx.currentTime),e._node.paused=!0,e._node.connect(v.masterGain)):v.noAudio||(e._node=v._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(v._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=n._src,e._node.preload=n._preload===!0?"auto":n._preload,e._node.volume=t*v.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++v._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(e._node.duration*10)/10,Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(v._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,n=e._parent;n._duration===1/0&&(n._duration=Math.ceil(e._node.duration*10)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=n._duration*1e3),n._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var r={},f=function(e){var n=e._src;if(r[n]){e._duration=r[n].duration,d(e);return}if(/^data:[^;]+;base64,/.test(n)){for(var t=atob(n.split(",")[1]),i=new Uint8Array(t.length),s=0;s<t.length;++s)i[s]=t.charCodeAt(s);a(i.buffer,e)}else{var l=new XMLHttpRequest;l.open(e._xhr.method,n,!0),l.withCredentials=e._xhr.withCredentials,l.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(p){l.setRequestHeader(p,e._xhr.headers[p])}),l.onload=function(){var p=(l.status+"")[0];if(p!=="0"&&p!=="2"&&p!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+l.status+".");return}a(l.response,e)},l.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[n],e.load())},o(l)}},o=function(e){try{e.send()}catch(n){e.onerror()}},a=function(e,n){var t=function(){n._emit("loaderror",null,"Decoding audio data failed.")},i=function(s){s&&n._sounds.length>0?(r[n._src]=s,d(n,s)):t()};typeof Promise!="undefined"&&v.ctx.decodeAudioData.length===1?v.ctx.decodeAudioData(e).then(i).catch(t):v.ctx.decodeAudioData(e,i,t)},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},c=function(){if(!!v.usingWebAudio){try{typeof AudioContext!="undefined"?v.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?v.ctx=new webkitAudioContext:v.usingWebAudio=!1}catch(s){v.usingWebAudio=!1}v.ctx||(v.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(v._navigator&&v._navigator.platform),n=v._navigator&&v._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=n?parseInt(n[1],10):null;if(e&&t&&t<9){var i=/safari/.test(v._navigator&&v._navigator.userAgent.toLowerCase());v._navigator&&!i&&(v.usingWebAudio=!1)}v.usingWebAudio&&(v.masterGain=typeof v.ctx.createGain=="undefined"?v.ctx.createGainNode():v.ctx.createGain(),v.masterGain.gain.setValueAtTime(v._muted?0:v._volume,v.ctx.currentTime),v.masterGain.connect(v.ctx.destination)),v._setup()}};M.Howler=v,M.Howl=S,typeof U!="undefined"?(U.HowlerGlobal=I,U.Howler=v,U.Howl=S,U.Sound=u):typeof window!="undefined"&&(window.HowlerGlobal=I,window.Howler=v,window.Howl=S,window.Sound=u)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(v){var S=this;if(!S.ctx||!S.ctx.listener)return S;for(var u=S._howls.length-1;u>=0;u--)S._howls[u].stereo(v);return S},HowlerGlobal.prototype.pos=function(v,S,u){var r=this;if(!r.ctx||!r.ctx.listener)return r;if(S=typeof S!="number"?r._pos[1]:S,u=typeof u!="number"?r._pos[2]:u,typeof v=="number")r._pos=[v,S,u],typeof r.ctx.listener.positionX!="undefined"?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]);else return r._pos;return r},HowlerGlobal.prototype.orientation=function(v,S,u,r,f,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var d=a._orientation;if(S=typeof S!="number"?d[1]:S,u=typeof u!="number"?d[2]:u,r=typeof r!="number"?d[3]:r,f=typeof f!="number"?d[4]:f,o=typeof o!="number"?d[5]:o,typeof v=="number")a._orientation=[v,S,u,r,f,o],typeof a.ctx.listener.forwardX!="undefined"?(a.ctx.listener.forwardX.setTargetAtTime(v,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(S,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(u,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(f,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(v,S,u,r,f,o);else return d;return a},Howl.prototype.init=function(v){return function(S){var u=this;return u._orientation=S.orientation||[1,0,0],u._stereo=S.stereo||null,u._pos=S.pos||null,u._pannerAttr={coneInnerAngle:typeof S.coneInnerAngle!="undefined"?S.coneInnerAngle:360,coneOuterAngle:typeof S.coneOuterAngle!="undefined"?S.coneOuterAngle:360,coneOuterGain:typeof S.coneOuterGain!="undefined"?S.coneOuterGain:0,distanceModel:typeof S.distanceModel!="undefined"?S.distanceModel:"inverse",maxDistance:typeof S.maxDistance!="undefined"?S.maxDistance:1e4,panningModel:typeof S.panningModel!="undefined"?S.panningModel:"HRTF",refDistance:typeof S.refDistance!="undefined"?S.refDistance:1,rolloffFactor:typeof S.rolloffFactor!="undefined"?S.rolloffFactor:1},u._onstereo=S.onstereo?[{fn:S.onstereo}]:[],u._onpos=S.onpos?[{fn:S.onpos}]:[],u._onorientation=S.onorientation?[{fn:S.onorientation}]:[],v.call(this,S)}}(Howl.prototype.init),Howl.prototype.stereo=function(v,S){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"stereo",action:function(){u.stereo(v,S)}}),u;var r=typeof Howler.ctx.createStereoPanner=="undefined"?"spatial":"stereo";if(typeof S=="undefined")if(typeof v=="number")u._stereo=v,u._pos=[v,0,0];else return u._stereo;for(var f=u._getSoundIds(S),o=0;o<f.length;o++){var a=u._soundById(f[o]);if(a)if(typeof v=="number")a._stereo=v,a._pos=[v,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",(!a._panner||!a._panner.pan)&&I(a,r),r==="spatial"?typeof a._panner.positionX!="undefined"?(a._panner.positionX.setValueAtTime(v,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(v,0,0):a._panner.pan.setValueAtTime(v,Howler.ctx.currentTime)),u._emit("stereo",a._id);else return a._stereo}return u},Howl.prototype.pos=function(v,S,u,r){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"pos",action:function(){f.pos(v,S,u,r)}}),f;if(S=typeof S!="number"?0:S,u=typeof u!="number"?-.5:u,typeof r=="undefined")if(typeof v=="number")f._pos=[v,S,u];else return f._pos;for(var o=f._getSoundIds(r),a=0;a<o.length;a++){var d=f._soundById(o[a]);if(d)if(typeof v=="number")d._pos=[v,S,u],d._node&&((!d._panner||d._panner.pan)&&I(d,"spatial"),typeof d._panner.positionX!="undefined"?(d._panner.positionX.setValueAtTime(v,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(S,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(u,Howler.ctx.currentTime)):d._panner.setPosition(v,S,u)),f._emit("pos",d._id);else return d._pos}return f},Howl.prototype.orientation=function(v,S,u,r){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"orientation",action:function(){f.orientation(v,S,u,r)}}),f;if(S=typeof S!="number"?f._orientation[1]:S,u=typeof u!="number"?f._orientation[2]:u,typeof r=="undefined")if(typeof v=="number")f._orientation=[v,S,u];else return f._orientation;for(var o=f._getSoundIds(r),a=0;a<o.length;a++){var d=f._soundById(o[a]);if(d)if(typeof v=="number")d._orientation=[v,S,u],d._node&&(d._panner||(d._pos||(d._pos=f._pos||[0,0,-.5]),I(d,"spatial")),typeof d._panner.orientationX!="undefined"?(d._panner.orientationX.setValueAtTime(v,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(S,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(u,Howler.ctx.currentTime)):d._panner.setOrientation(v,S,u)),f._emit("orientation",d._id);else return d._orientation}return f},Howl.prototype.pannerAttr=function(){var v=this,S=arguments,u,r,f;if(!v._webAudio)return v;if(S.length===0)return v._pannerAttr;if(S.length===1)if(typeof S[0]=="object")u=S[0],typeof r=="undefined"&&(u.pannerAttr||(u.pannerAttr={coneInnerAngle:u.coneInnerAngle,coneOuterAngle:u.coneOuterAngle,coneOuterGain:u.coneOuterGain,distanceModel:u.distanceModel,maxDistance:u.maxDistance,refDistance:u.refDistance,rolloffFactor:u.rolloffFactor,panningModel:u.panningModel}),v._pannerAttr={coneInnerAngle:typeof u.pannerAttr.coneInnerAngle!="undefined"?u.pannerAttr.coneInnerAngle:v._coneInnerAngle,coneOuterAngle:typeof u.pannerAttr.coneOuterAngle!="undefined"?u.pannerAttr.coneOuterAngle:v._coneOuterAngle,coneOuterGain:typeof u.pannerAttr.coneOuterGain!="undefined"?u.pannerAttr.coneOuterGain:v._coneOuterGain,distanceModel:typeof u.pannerAttr.distanceModel!="undefined"?u.pannerAttr.distanceModel:v._distanceModel,maxDistance:typeof u.pannerAttr.maxDistance!="undefined"?u.pannerAttr.maxDistance:v._maxDistance,refDistance:typeof u.pannerAttr.refDistance!="undefined"?u.pannerAttr.refDistance:v._refDistance,rolloffFactor:typeof u.pannerAttr.rolloffFactor!="undefined"?u.pannerAttr.rolloffFactor:v._rolloffFactor,panningModel:typeof u.pannerAttr.panningModel!="undefined"?u.pannerAttr.panningModel:v._panningModel});else return f=v._soundById(parseInt(S[0],10)),f?f._pannerAttr:v._pannerAttr;else S.length===2&&(u=S[0],r=parseInt(S[1],10));for(var o=v._getSoundIds(r),a=0;a<o.length;a++)if(f=v._soundById(o[a]),f){var d=f._pannerAttr;d={coneInnerAngle:typeof u.coneInnerAngle!="undefined"?u.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof u.coneOuterAngle!="undefined"?u.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof u.coneOuterGain!="undefined"?u.coneOuterGain:d.coneOuterGain,distanceModel:typeof u.distanceModel!="undefined"?u.distanceModel:d.distanceModel,maxDistance:typeof u.maxDistance!="undefined"?u.maxDistance:d.maxDistance,refDistance:typeof u.refDistance!="undefined"?u.refDistance:d.refDistance,rolloffFactor:typeof u.rolloffFactor!="undefined"?u.rolloffFactor:d.rolloffFactor,panningModel:typeof u.panningModel!="undefined"?u.panningModel:d.panningModel};var c=f._panner;c?(c.coneInnerAngle=d.coneInnerAngle,c.coneOuterAngle=d.coneOuterAngle,c.coneOuterGain=d.coneOuterGain,c.distanceModel=d.distanceModel,c.maxDistance=d.maxDistance,c.refDistance=d.refDistance,c.rolloffFactor=d.rolloffFactor,c.panningModel=d.panningModel):(f._pos||(f._pos=v._pos||[0,0,-.5]),I(f,"spatial"))}return v},Sound.prototype.init=function(v){return function(){var S=this,u=S._parent;S._orientation=u._orientation,S._stereo=u._stereo,S._pos=u._pos,S._pannerAttr=u._pannerAttr,v.call(this),S._stereo?u.stereo(S._stereo):S._pos&&u.pos(S._pos[0],S._pos[1],S._pos[2],S._id)}}(Sound.prototype.init),Sound.prototype.reset=function(v){return function(){var S=this,u=S._parent;return S._orientation=u._orientation,S._stereo=u._stereo,S._pos=u._pos,S._pannerAttr=u._pannerAttr,S._stereo?u.stereo(S._stereo):S._pos?u.pos(S._pos[0],S._pos[1],S._pos[2],S._id):S._panner&&(S._panner.disconnect(0),S._panner=void 0,u._refreshBuffer(S)),v.call(this)}}(Sound.prototype.reset);var I=function(v,S){S=S||"spatial",S==="spatial"?(v._panner=Howler.ctx.createPanner(),v._panner.coneInnerAngle=v._pannerAttr.coneInnerAngle,v._panner.coneOuterAngle=v._pannerAttr.coneOuterAngle,v._panner.coneOuterGain=v._pannerAttr.coneOuterGain,v._panner.distanceModel=v._pannerAttr.distanceModel,v._panner.maxDistance=v._pannerAttr.maxDistance,v._panner.refDistance=v._pannerAttr.refDistance,v._panner.rolloffFactor=v._pannerAttr.rolloffFactor,v._panner.panningModel=v._pannerAttr.panningModel,typeof v._panner.positionX!="undefined"?(v._panner.positionX.setValueAtTime(v._pos[0],Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(v._pos[1],Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(v._pos[2],Howler.ctx.currentTime)):v._panner.setPosition(v._pos[0],v._pos[1],v._pos[2]),typeof v._panner.orientationX!="undefined"?(v._panner.orientationX.setValueAtTime(v._orientation[0],Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(v._orientation[1],Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(v._orientation[2],Howler.ctx.currentTime)):v._panner.setOrientation(v._orientation[0],v._orientation[1],v._orientation[2])):(v._panner=Howler.ctx.createStereoPanner(),v._panner.pan.setValueAtTime(v._stereo,Howler.ctx.currentTime)),v._panner.connect(v._node),v._paused||v._parent.pause(v._id,!0).play(v._id,!0)}})()})(Oe);export{Ee as d,Oe as h,pe as m};
